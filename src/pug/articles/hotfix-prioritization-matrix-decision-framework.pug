extends ../layouts/modern-layout

block layout-content
  // Header
  header.py-5
    .container
      .row.justify-content-center
        .col-lg-10
          h1.display-4.mb-3
            | Hotfix Prioritization Matrix & Decision Framework
          h2.h5.text-muted.mb-4
            | A practical guide to making consistent decisions about urgent software fixes
          p.lead.mb-4
            | This framework helps development teams make objective, data-driven decisions about whether a hotfix should interrupt current work or wait for the next planned release. By using structured criteria and clear workflows, teams can manage urgent issues effectively while maintaining development productivity.

  // Main Article Content
  article#main-article
    main.container.my-5
      // Understanding Hotfixes
      section#understanding-hotfixes.mb-5
        h2.mb-4
          | Hotfixes vs. Patches: Core Differences

        .table-responsive.mb-4
          table.table.table-bordered
            thead.table-light
              tr
                th Aspect
                th Hotfixes
                th Patches
            tbody
              tr
                td
                  strong Purpose
                td Address urgent, critical issues affecting live systems
                td Scheduled updates and comprehensive improvements
              tr
                td
                  strong Deployment
                td Applied immediately to production without downtime
                td Follow regular deployment cycles with planned downtime
              tr
                td
                  strong Testing
                td Minimal testing due to urgency
                td Full QA testing cycle before release
              tr
                td
                  strong Scope
                td Surgical fixes for specific problems
                td Comprehensive changes including multiple fixes and features
              tr
                td
                  strong Examples
                td Security vulnerabilities, system crashes, data loss
                td Feature enhancements, multiple bug fixes, performance updates

        .alert.alert-light.border.mb-4
          h5.mb-2 Why Structured Hotfix Management Matters
          p.mb-0 Without clear criteria and structured processes, teams fall into reactive patterns that harm both system stability and development productivity. This framework provides the objective, data-driven approach needed to make consistent hotfix decisions, preventing the "everything is critical" trap while ensuring genuine emergencies receive immediate attention.

      // Core Framework
      section#framework.mb-5
        h2.mb-4 The Priority Scoring Framework

        .bg-light.rounded.p-4.mb-4
          .text-center.mb-3
            h4 Priority Formula
            code.fs-5.fw-bold Priority Score = (Business Impact × Urgency × Scope) ÷ (Risk + Effort)
          p.text-muted.small This formula balances business needs against implementation risks, providing objective prioritization.

      // Priority Calculator
      section#calculator.mb-5
        h2.mb-4 Interactive Priority Score Calculator

        .bg-light.rounded.p-4
          .text-center.mb-4
            h4 Priority Formula
            code.fs-5.fw-bold Priority Score = (Business Impact × Urgency × Scope) ÷ (Risk + Effort)

          .row
            .col-lg-6
              .mb-3
                label.form-label.fw-bold(for="businessImpact") Business Impact (1-5)
                input.form-range(type="range" min="1" max="5" step="1" id="businessImpact" value="3")
                .d-flex.justify-content-between
                  small 1 - Enhancement
                  small.fw-bold#businessImpactValue 3
                  small 5 - Revenue Loss

              .mb-3
                label.form-label.fw-bold(for="urgency") Urgency (1-5)
                input.form-range(type="range" min="1" max="5" step="1" id="urgency" value="3")
                .d-flex.justify-content-between
                  small 1 - Can Wait
                  small.fw-bold#urgencyValue 3
                  small 5 - System Down

              .mb-3
                label.form-label.fw-bold(for="scope") Scope (1-5)
                input.form-range(type="range" min="1" max="5" step="1" id="scope" value="3")
                .d-flex.justify-content-between
                  small 1 - Individual
                  small.fw-bold#scopeValue 3
                  small 5 - All Users

            .col-lg-6
              .mb-3
                label.form-label.fw-bold(for="risk") Deployment Risk (1-5)
                input.form-range(type="range" min="1" max="5" step="1" id="risk" value="2")
                .d-flex.justify-content-between
                  small 1 - Minimal Risk
                  small.fw-bold#riskValue 2
                  small 5 - High Risk

              .mb-3
                label.form-label.fw-bold(for="effort") Development Effort (1-5)
                input.form-range(type="range" min="1" max="5" step="1" id="effort" value="2")
                .d-flex.justify-content-between
                  small 1 - Quick Fix
                  small.fw-bold#effortValue 2
                  small 5 - Multiple Days

              .bg-primary.text-white.p-3.rounded.text-center.mt-3#scoreDisplay
                | Priority Score:
                span#calculatedScore 6.75

              .mt-3
                .alert.alert-info#priorityLevel
                  strong Priority Level:
                  span#priorityText MEDIUM - Next Sprint Priority

      // Scoring Criteria
      section.mb-5
        h3.mb-4 Detailed Scoring Criteria
        .row
          .col-lg-6.mb-4
            .card
              .card-header
                h5.mb-0 Business Impact (1-5)
              .card-body
                ul.list-unstyled.mb-0
                  li.mb-2
                    span.badge.bg-dark 5
                    |  Revenue blocking, security breach, legal compliance
                  li.mb-2
                    span.badge.bg-dark 4
                    |  Major customer complaints, core feature broken
                  li.mb-2
                    span.badge.bg-dark 3
                    |  Feature degradation, user experience issues
                  li.mb-2
                    span.badge.bg-dark 2
                    |  Minor functionality issues, cosmetic problems
                  li.mb-2
                    span.badge.bg-dark 1
                    |  Enhancement requests, nice-to-have fixes

          .col-lg-6.mb-4
            .card
              .card-header
                h5.mb-0 Urgency (1-5)
              .card-body
                ul.list-unstyled.mb-0
                  li.mb-2
                    span.badge.bg-dark 5
                    |  System down, data loss occurring
                  li.mb-2
                    span.badge.bg-dark 4
                    |  Critical deadline tomorrow, escalating rapidly
                  li.mb-2
                    span.badge.bg-dark 3
                    |  Affecting daily operations, growing complaints
                  li.mb-2
                    span.badge.bg-dark 2
                    |  Scheduled for next release, minor impact
                  li.mb-2
                    span.badge.bg-dark 1
                    |  No time pressure, can wait weeks

          .col-lg-6.mb-4
            .card
              .card-header
                h5.mb-0 Scope (1-5)
              .card-body
                ul.list-unstyled.mb-0
                  li.mb-2
                    span.badge.bg-dark 5
                    |  All users/customers affected
                  li.mb-2
                    span.badge.bg-dark 4
                    |  Major customer segment affected
                  li.mb-2
                    span.badge.bg-dark 3
                    |  Significant user group affected
                  li.mb-2
                    span.badge.bg-dark 2
                    |  Small user subset affected
                  li.mb-2
                    span.badge.bg-dark 1
                    |  Individual or edge case affected

          .col-lg-6.mb-4
            .card
              .card-header
                h5.mb-0 Deployment Risk (1-5)
              .card-body
                ul.list-unstyled.mb-0
                  li.mb-2
                    span.badge.bg-dark 5
                    |  High chance of introducing new critical issues
                  li.mb-2
                    span.badge.bg-dark 4
                    |  Significant testing gap, complex dependencies
                  li.mb-2
                    span.badge.bg-dark 3
                    |  Moderate risk, some unknowns
                  li.mb-2
                    span.badge.bg-dark 2
                    |  Low risk, well-understood change
                  li.mb-2
                    span.badge.bg-dark 1
                    |  Minimal risk, isolated change

          .col-lg-12.mb-4
            .card
              .card-header
                h5.mb-0 Development Effort (1-5)
              .card-body
                .row
                  .col-md-6
                    ul.list-unstyled.mb-0
                      li.mb-2
                        span.badge.bg-dark 5
                        |  Multiple days, complex changes
                      li.mb-2
                        span.badge.bg-dark 4
                        |  Full day of development work
                      li.mb-2
                        span.badge.bg-dark 3
                        |  Half day of focused work
                  .col-md-6
                    ul.list-unstyled.mb-0
                      li.mb-2
                        span.badge.bg-dark 2
                        |  Few hours of straightforward work
                      li.mb-2
                        span.badge.bg-dark 1
                        |  Quick fix, under an hour

      // Priority Matrix
      section#matrix.mb-5
        h2.mb-4 Hotfix Priority Matrix

        .table-responsive
          table.table.table-bordered
            thead.table-dark
              tr
                th Priority Score
                th Action Required
                th Timeline
                th Examples
            tbody
              tr.table-danger
                td.fw-bold
                  | CRITICAL
                  br
                  span.badge.bg-danger 15-25
                td
                  | Stop Current Work
                  br
                  | Deploy Immediately
                td 0-4 hours
                td Security breach, system down, data loss, legal violation
              tr.table-warning
                td.fw-bold
                  | HIGH
                  br
                  span.badge.bg-warning 10-14
                td
                  | Interrupt Sprint
                  br
                  | Deploy Same Day
                td 4-24 hours
                td Revenue impacting, major customer escalation, core feature broken
              tr.table-info
                td.fw-bold
                  | MEDIUM
                  br
                  span.badge.bg-info 6-9
                td
                  | Next Sprint Priority
                  br
                  | Include in Next Release
                td 1-2 weeks
                td Feature degradation, user experience issues, minor compliance
              tr.table-success
                td.fw-bold
                  | LOW
                  br
                  span.badge.bg-success 1-5
                td
                  | Product Backlog
                  br
                  | Normal Prioritization
                td Next planned cycle
                td Cosmetic issues, enhancement requests, minor bugs

      // Decision Tree
      section#decision-tree.mb-5
        h2.mb-4 Hotfix Decision Workflow

        .card
          .card-header
            h4.mb-0 Decision Tree Process
          .card-body
            .row
              .col-lg-6.mb-3
                .border.rounded.p-3
                  h6.fw-bold Step 1: Initial Triage (2 minutes)
                  ul.list-unstyled.mb-0
                    li • Is this a genuine production issue or an enhancement request?
                    li • Is anyone currently unable to complete critical business functions?
                    li • Is there active data loss or security exposure?
              .col-lg-6.mb-3
                .alert.alert-danger.mb-2
                  strong IF YES to any Step 1:
                  |  Calculate priority score immediately → Follow CRITICAL/HIGH path

            .row
              .col-lg-6.mb-3
                .border.rounded.p-3
                  h6.fw-bold Step 2: Impact Assessment (5 minutes)
                  ul.list-unstyled.mb-0
                    li • How many users/customers are affected?
                    li • What is the financial impact per hour/day?
                    li • Are we violating SLAs or compliance requirements?
                    li • Is this causing customer escalations?
              .col-lg-6.mb-3
                .border.rounded.p-3
                  h6.fw-bold Step 3: Risk vs. Reward Analysis (10 minutes)
                  ul.list-unstyled.mb-0
                    li • What's the deployment risk vs. the risk of waiting?
                    li • How much effort is required for the fix?
                    li • Can we implement a temporary workaround?
                    li • What are the downstream dependencies?

            .text-center
              .border.rounded.p-3.d-inline-block
                h6.fw-bold Step 4: Calculate Priority Score
                p.mb-0 Use the formula: (Business Impact × Urgency × Scope) ÷ (Risk + Effort)

      // Action Protocols
      section#protocols.mb-5
        h2.mb-4 Action Protocols by Priority Level

        .row
          .col-lg-4.mb-4
            .card.bg-danger.text-white.h-100
              .card-header.bg-danger
                h5.mb-0 CRITICAL (15-25): Immediate Action
              .card-body
                ul.list-unstyled
                  li.mb-2 Immediate: Alert all stakeholders, stop current sprint work
                  li.mb-2 0-30 min: Assemble hotfix team, confirm root cause
                  li.mb-2 30-60 min: Develop fix, minimal testing in staging
                  li.mb-2 1-2 hours: Deploy to production with monitoring
                  li.mb-2 2-4 hours: Validate fix, communicate resolution
                .alert.alert-light.text-dark.mb-0
                  small
                    strong Decision Makers:
                    |  Tech Lead + Product Owner (no committee required)

          .col-lg-4.mb-4
            .card.bg-warning.text-dark.h-100
              .card-header.bg-warning
                h5.mb-0 HIGH (10-14): Sprint Interruption
              .card-body
                ul.list-unstyled
                  li.mb-2 0-2 hours: Complete current task, document stopping point
                  li.mb-2 2-4 hours: Develop and test fix thoroughly
                  li.mb-2 4-8 hours: Code review, staging deployment
                  li.mb-2 8-24 hours: Production deployment during maintenance window
                .alert.alert-dark.text-white.mb-0
                  small
                    strong Decision Makers:
                    |  Tech Lead + Product Owner + Scrum Master approval

          .col-lg-4.mb-4
            .card.bg-info.text-white.h-100
              .card-header.bg-info
                h5.mb-0 MEDIUM (6-9): Next Sprint
              .card-body
                ul.list-unstyled
                  li.mb-2 • Add to next sprint planning with high priority
                  li.mb-2 • Implement workaround if possible
                  li.mb-2 • Communicate timeline to stakeholders
                  li.mb-2 • Monitor for escalation indicators
                .alert.alert-light.text-dark.mb-0
                  small
                    strong Decision Makers:
                    |  Standard sprint planning process

      // Workflow Steps
      section#workflow.mb-5
        h2.mb-4 Hotfix Workflow Steps

        .row
          .col-lg-6.mb-3
            .border.rounded.p-3
              h6.fw-bold 1. Issue Detection & Reporting
              ul.list-unstyled.mb-0
                li • Issue reported through monitoring, customer support, or internal discovery
                li • Initial impact assessment completed within 15 minutes
                li • Stakeholder notification sent based on severity

          .col-lg-6.mb-3
            .border.rounded.p-3
              h6.fw-bold 2. Rapid Classification
              ul.list-unstyled.mb-0
                li • Technical lead assigns Business Impact, Urgency, and Scope scores
                li • Product owner validates business impact assessment
                li • Development team estimates Risk and Effort scores

          .col-lg-6.mb-3
            .border.rounded.p-3
              h6.fw-bold 3. Priority Score Calculation
              ul.list-unstyled.mb-0
                li • Apply the priority formula to get numerical score
                li • Map score to priority matrix (Critical/High/Medium/Low)
                li • Document reasoning for audit trail

          .col-lg-6.mb-3
            .border.rounded.p-3
              h6.fw-bold 4. Decision Authorization
              ul.list-unstyled.mb-0
                li • Follow approval process based on priority level
                li • Get required sign-offs before proceeding
                li • Communicate decision and timeline to all stakeholders

          .col-lg-12.mb-3
            .border.rounded.p-3
              h6.fw-bold 5. Implementation & Deployment
              ul.list-unstyled.mb-0
                li • Follow appropriate testing and deployment protocol
                li • Monitor post-deployment for regression issues
                li • Document fix and lessons learned

      // Success Metrics
      section#metrics.mb-5
        h2.mb-4 Success Metrics & KPIs

        .table-responsive
          table.table.table-striped
            thead.table-dark
              tr
                th Metric
                th Target
                th Measurement
                th Business Impact
            tbody
              tr
                td Critical Issue Response Time
                td
                  span.badge.bg-success &lt; 1 hour
                td Time from detection to fix deployment
                td Minimizes revenue loss and customer impact
              tr
                td High Priority Issue Resolution
                td
                  span.badge.bg-success &lt; 24 hours
                td Time from detection to production fix
                td Prevents customer escalation and churn
              tr
                td Hotfix Success Rate
                td
                  span.badge.bg-success &gt; 95%
                td Fixes that resolve issue without regression
                td Maintains system stability and trust
              tr
                td False Alarm Rate
                td
                  span.badge.bg-warning &lt; 10%
                td Critical alerts that weren't actually critical
                td Prevents alert fatigue and resource waste
              tr
                td Sprint Disruption Rate
                td
                  span.badge.bg-warning &lt; 15%
                td Sprints interrupted by hotfixes
                td Maintains predictable delivery

      // Common Pitfalls
      section#pitfalls.mb-5
        h2.mb-4 Common Pitfalls to Avoid

        .row
          .col-lg-4.mb-3
            .card.border-danger.h-100
              .card-header.bg-danger.text-white
                h6.mb-0
                  i.bi.bi-exclamation-triangle.me-2
                  | "Everything is Critical" Trap
              .card-body
                p.mb-0 Establish objective criteria and stick to them. Use data, not emotions, to drive decisions.

          .col-lg-4.mb-3
            .card.border-warning.h-100
              .card-header.bg-warning
                h6.mb-0
                  i.bi.bi-bug.me-2
                  | Inadequate Testing
              .card-body
                p.mb-0 Maintain minimum testing standards even under pressure. Better to take an extra hour than create a worse issue.

          .col-lg-4.mb-3
            .card.border-info.h-100
              .card-header.bg-info.text-white
                h6.mb-0
                  i.bi.bi-chat-dots.me-2
                  | Communication Breakdown
              .card-body
                p.mb-0 Assign a dedicated communicator during crises. Regular updates prevent panic and duplicate reporting.

      // Excellence Checklist
      section#checklist.mb-5
        h2.mb-4 Hotfix Excellence Checklist

        .row
          .col-lg-4.mb-4
            .card.h-100.border-primary
              .card-header.bg-primary.text-white
                h6.mb-0 Before Decision
              .card-body
                ul.list-unstyled.mb-0
                  li.mb-2 ✓ Priority score calculated
                  li.mb-2 ✓ Business impact validated
                  li.mb-2 ✓ Technical risk assessed
                  li.mb-2 ✓ Stakeholders notified
                  li ✓ Decision documented

          .col-lg-4.mb-4
            .card.h-100.border-warning
              .card-header.bg-warning
                h6.mb-0 During Implementation
              .card-body
                ul.list-unstyled.mb-0
                  li.mb-2 ✓ Testing standards met
                  li.mb-2 ✓ Code review completed
                  li.mb-2 ✓ Rollback plan ready
                  li.mb-2 ✓ Monitoring configured
                  li ✓ Status updates sent

          .col-lg-4.mb-4
            .card.h-100.border-success
              .card-header.bg-success.text-white
                h6.mb-0 After Deployment
              .card-body
                ul.list-unstyled.mb-0
                  li.mb-2 ✓ Post-deployment check
                  li.mb-2 ✓ Stakeholders informed
                  li.mb-2 ✓ Root cause scheduled
                  li.mb-2 ✓ Process improvements noted
                  li ✓ Sprint impact assessed

      // Additional Resources
      section#additional-resources.mb-5
        h2.mb-4 Additional Prioritization Methods

        .row
          .col-md-6.mb-3
            .card.border
              .card-body
                h6.card-title
                  i.bi.bi-diagram-3.me-2
                  | MoSCoW Method
                p.card-text.small Categorizes requirements as Must-have, Should-have, Could-have, or Won't-have. Hotfixes typically fall under "Must-have" when critical.

          .col-md-6.mb-3
            .card.border
              .card-body
                h6.card-title
                  i.bi.bi-graph-up.me-2
                  | RICE Scoring
                p.card-text.small Evaluates Reach, Impact, Confidence, and Effort to prioritize based on potential value versus implementation cost.

          .col-md-6.mb-3
            .card.border
              .card-body
                h6.card-title
                  i.bi.bi-speedometer2.me-2
                  | WSJF (Weighted Shortest Job First)
                p.card-text.small Calculates Cost of Delay divided by job size, prioritizing items with highest economic value that can be completed quickly.

          .col-md-6.mb-3
            .card.border
              .card-body
                h6.card-title
                  i.bi.bi-grid-3x3.me-2
                  | Value vs. Effort Matrix
                p.card-text.small Plots items on a 2x2 grid of value versus effort, focusing attention on high-value, low-effort opportunities first.      // Key Takeaways
      section.mb-5
        h2.mb-4 Key Takeaways

        .alert.alert-light.border(role="alert")
          h5.mb-3
            i.bi.bi-check-circle.me-2.text-success
            | The Ultimate Goal
          p.mb-2 A hotfix prioritization system should provide predictable, data-driven decisions that balance business needs with development team productivity.
          p.mb-0
            strong Core principles:
            | Business impact drives decisions • Objective scoring prevents emotional reactions • Clear protocols reduce decision time • Transparent communication builds trust

    // Back to Top Button
    button.btn.btn-secondary.position-fixed.bottom-0.end-0.m-4.rounded-circle#backToTop(title="Go to top" style="display: none; width: 50px; height: 50px; z-index: 1000;")
      | ↑

    // Bootstrap 5 JavaScript
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous")

    // Custom JavaScript
    script.
      // Priority Calculator
      function updateCalculator() {
        const businessImpact = parseInt(document.getElementById('businessImpact').value);
        const urgency = parseInt(document.getElementById('urgency').value);
        const scope = parseInt(document.getElementById('scope').value);
        const risk = parseInt(document.getElementById('risk').value);
        const effort = parseInt(document.getElementById('effort').value);

        // Update display values
        document.getElementById('businessImpactValue').textContent = businessImpact;
        document.getElementById('urgencyValue').textContent = urgency;
        document.getElementById('scopeValue').textContent = scope;
        document.getElementById('riskValue').textContent = risk;
        document.getElementById('effortValue').textContent = effort;

        // Calculate priority score
        const score = (businessImpact * urgency * scope) / (risk + effort);
        document.getElementById('calculatedScore').textContent = score.toFixed(2);

        // Determine priority level
        const scoreDisplay = document.getElementById('scoreDisplay');
        const priorityLevel = document.getElementById('priorityLevel');
        const priorityText = document.getElementById('priorityText');

        if (score >= 15) {
          scoreDisplay.className = 'bg-danger text-white p-3 rounded text-center mt-3';
          priorityLevel.className = 'alert alert-danger';
          priorityText.textContent = 'CRITICAL - Stop Current Work, Deploy Immediately';
        } else if (score >= 10) {
          scoreDisplay.className = 'bg-warning text-dark p-3 rounded text-center mt-3';
          priorityLevel.className = 'alert alert-warning';
          priorityText.textContent = 'HIGH - Interrupt Sprint, Deploy Same Day';
        } else if (score >= 6) {
          scoreDisplay.className = 'bg-info text-white p-3 rounded text-center mt-3';
          priorityLevel.className = 'alert alert-info';
          priorityText.textContent = 'MEDIUM - Next Sprint Priority';
        } else {
          scoreDisplay.className = 'bg-success text-white p-3 rounded text-center mt-3';
          priorityLevel.className = 'alert alert-success';
          priorityText.textContent = 'LOW - Product Backlog, Normal Prioritization';
        }
      }

      // Initialize calculator
      document.addEventListener('DOMContentLoaded', function() {
        const inputs = ['businessImpact', 'urgency', 'scope', 'risk', 'effort'];
        inputs.forEach(id => {
          document.getElementById(id).addEventListener('input', updateCalculator);
        });
        updateCalculator();
      });

      // Smooth scrolling
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function (e) {
          e.preventDefault();
          const target = document.querySelector(this.getAttribute('href'));
          if (target) {
            target.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }
        });
      });

      // Back to top button
      const backToTopButton = document.getElementById('backToTop');
      window.addEventListener('scroll', function() {
        backToTopButton.style.display = window.pageYOffset > 100 ? 'flex' : 'none';
      });
      backToTopButton.addEventListener('click', function() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });

<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="author" content="Mark Hazleton" />
        <meta name="robots" content="index, follow" />
        <title>Troubleshooting JS-Dev-Env Project</title>
        <meta name="description" content="A detailed guide on how I faced issues, restarted from scratch, and successfully rebuilt a JavaScript development environment using Node.js, Nodemon, ESLint, Express, and Bootstrap." />
        <meta name="keywords" content="JavaScript, Node.js, Nodemon, ESLint, Bootstrap, development environment" />
        <meta name="author" content="Mark Hazleton" />
        <link rel="canonical" href="https://markhazleton.com/articles/troubleshooting-and-rebuilding-my-js-dev-env-project.html" />
        <link rel="shortcut icon" href="/assets/img/favicon.ico" />
        <link rel="icon" type="image/x-icon" href="assets/img/favicon.ico" />
        <script type="application/ld+json">
            {
                "@context": "http://schema.org",
                "@type": "Person",
                "name": "Mark Hazleton",
                "familyName": "Hazleton",
                "givenName": "Mark",
                "jobTitle": "Solutions Architect",
                "alumniOf": "University of North Texas",
                "affiliation": {
                    "@type": "Organization",
                    "name": "Control Origins"
                },
                "sameAs": ["https://www.linkedin.com/in/markhazleton/", "https://github.com/markhazleton/", "https://twitter.com/markhazleton/", "https://www.youtube.com/c/MarkHazleton/", "https://markhazleton.brandyourself.com/", "https://www.postman.com/markhazleton/", "https://stackoverflow.com/users/479571/markhazleton/", "https://www.slideshare.net/markhazleton/", "https://hub.docker.com/u/markhazleton/", "https://www.polywork.com/markhazleton/", "https://www.codeproject.com/Members/MarkHazleton/", "https://markhazleton.wordpress.com/", "https://learn.microsoft.com/en-us/users/mark-hazleton/", "https://app.pluralsight.com/profile/markhazletonCEC/", "https://app.pluralsight.com/profile/markhazleton/", "https://www.instagram.com/markhazleton/", "https://storybird.ai/u/markhazleton/", "https://www.pinterest.com/markhazleton/"],
                "url": "https://markhazleton.com"
            }
        </script>
        <script type="application/ld+json">
            {
                "@context": "https://schema.org",
                "@type": "Organization",
                "url": "https://markhazleton.com",
                "logo": "https://markhazleton.com/assets/img/MarkHazleton.jpg"
            }
        </script>
        <meta name="seobility" content="f80235aca1a812e0afde44f0142c825b" />
        <!-- No external font dependencies - using system fonts-->
        <!-- Core theme CSS (includes Bootstrap)-->
        <link rel="stylesheet" href="/css/styles.css?version=20250705" />
        <!-- Global site tag (gtag.js) - Google Analytics-->
        <script src="https://www.googletagmanager.com/gtag/js?id=G-L8GVZNDH0B" async></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag('js', new Date());
            gtag('config', 'G-L8GVZNDH0B');
        </script>
        <script>
            (function (c, l, a, r, i, t, y) {
                c[a] =
                    c[a] ||
                    function () {
                        (c[a].q = c[a].q || []).push(arguments);
                    };
                t = l.createElement(r);
                t.async = 1;
                t.src = 'https://www.clarity.ms/tag/' + i + '?ref=bwt';
                y = l.getElementsByTagName(r)[0];
                y.parentNode.insertBefore(t, y);
            })(window, document, 'clarity', 'script', 'd628hovv63');
        </script>
    </head>
    <body class="sidetracked-body" id="page-top">
        <nav class="navbar navbar-dark bg-primary p-1">
            <div class="container-fluid justify-content-end">
                <div class="social-icons d-flex">
                    <a class="social-icon" href="https://www.linkedin.com/in/markhazleton" target="_blank" rel="noopener noreferrer" title="LinkedIn Profile"><i class="fab fa-linkedin-in text-light me-2" style="font-size: 2rem"></i></a>
                    <a class="social-icon" href="https://github.com/markhazleton" target="_blank" rel="noopener noreferrer" title="GitHub Profile"><i class="fab fa-github text-light me-2" style="font-size: 2rem"></i></a>
                    <a class="social-icon" href="https://www.youtube.com/@MarkHazleton" target="_blank" rel="noopener noreferrer" title="YouTube Channel"><i class="fab fa-youtube text-light me-2" style="font-size: 2rem"></i></a>
                    <a class="social-icon" href="https://www.instagram.com/markhazleton/" target="_blank" rel="noopener noreferrer" title="Instagram Profile"><i class="fab fa-instagram text-light" style="font-size: 2rem"></i></a>
                </div>
            </div>
        </nav>
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark bg-primary fixed-top" id="sideNav">
            <a class="navbar-brand js-scroll-trigger" href="/#page-top" title="Mark Hazleton">
                <span class="d-block d-lg-none">Mark Hazleton</span>
                <span class="d-none d-lg-block"><img class="img-fluid img-profile rounded-circle mx-auto mb-2" src="/assets/img/MarkHazleton.jpg" alt="..." /></span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon">#navbarResponsive.collapse.navbar-collapse</span>
                <ul class="navbar-nav">
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="/#about">About</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="/articles.html">Articles</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="/#projects">Projects</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="/#experience">Experience</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="https://webspark.markhazleton.com">WebSpark</a></li>
                    <li class="nav-item"><a class="nav-link js-scroll-trigger" href="/projectmechanics/">Project Mechanics</a></li>
                </ul>
                <!-- Search Box (for larger screens)-->
                <div class="d-none d-lg-flex ms-auto">
                    <form class="d-flex" onsubmit="return searchArticles(event)">
                        <div class="input-group search-box">
                            <input class="form-control" id="headerSearchInput" type="search" placeholder="Search articles..." aria-label="Search articles" autocomplete="off" />
                            <button class="btn btn-outline-light" type="submit" aria-label="Search"><i class="fas fa-search"></i></button>
                        </div>
                    </form>
                </div>
            </button>
        </nav>
        <!-- Page Content-->
        <div class="container-fluid p-0 painteddesert-background">
            <article class="painteddesert-section painteddesert-section-background" id="post">
                <div class="painteddesert-section-content">
                    <h1>Troubleshooting JS-Dev-Env Project</h1>
                    <h2 class="subheading mb-3">A story of challenges, breaking changes, and rebuilding from scratch.</h2>
                    <p class="fw-bold text-primary text-center bg-primary text-white"><a class="fw-bold text-primary text-center bg-primary text-white" href="https://github.com/markhazleton/js-dev-env" target="_blank" title="The full source code for JS-DEV-ENV is available on GitHub">The full source code for JS-Dev-Env is available on GitHub</a></p>
                    <p>When I first set out to build a development environment for my JavaScript project, I envisioned a smooth, streamlined setup. I wanted a workspace where I could write modern JavaScript, manage dependencies effortlessly, lint my code, and run a local server with instant updates.</p>
                    <p>However, what I didn’t account for was the series of breaking changes in the core packages that made my initial environment incompatible with the newer versions of these tools.</p>
                    <dl>
                        <dt>Facing the Initial Issues and Breaking Changes</dt>
                        <dd>
                            The first sign of trouble was when I tried to upgrade my core packages—Node.js, Nodemon, and ESLint. Each package had introduced breaking changes that resulted in errors, version conflicts, and even the inability to run the project. The breaking changes in ESLint were the most frustrating. Several rules were deprecated, and new rule configurations required major changes to the `.eslintrc` file. Additionally, the plugin `eslint-plugin-import` began requiring newer versions of ESLint that weren’t backward compatible with my original configuration.
                            <pre class="language-base"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> eslint@latest eslint-plugin-import@latest
</code></pre>
                            Nodemon also underwent significant updates. The move to Nodemon 3.x came with breaking changes in how the watcher worked and how it interacted with my build scripts. The config settings I was using to handle auto-reloading became obsolete, causing the server to crash when certain files changed.
                            <pre class="language-JavaScript"><code class="language-JavaScript"><span class="token string-property property">"dev"</span><span class="token operator">:</span> <span class="token string">"nodemon --watch src --exec node server.js"</span>
</code></pre>
                            These breaking changes led to a cascade of dependency issues, where some packages required older versions of Node.js, while others demanded the latest version. This mismatch made it nearly impossible to have a stable, functioning environment without sacrificing modern features.
                        </dd>
                        <dt>Code Changes to Support New Versions</dt>
                        <dd>
                            To resolve these issues, I had to update several parts of my codebase. First, I upgraded the project dependencies to the latest versions and updated the ESLint rules and configuration accordingly. For example, ESLint’s newer rules required specific configuration changes. The deprecation of `no-use-before-define` for functions required me to manually rewrite functions or disable the rule in the config file.
                            <pre class="language-JavaScript"><code class="language-JavaScript"><span class="token string-property property">"rules"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">"no-use-before-define"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"error"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">"functions"</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
                            I also had to refactor my scripts to ensure compatibility with Nodemon’s changes. The way the file watcher worked had changed, so I modified my script in `package.json` to explicitly specify which directories to watch.
                            <pre class="language-JavaScript"><code class="language-JavaScript"><span class="token string-property property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">"start"</span><span class="token operator">:</span> <span class="token string">"node server.js"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"dev"</span><span class="token operator">:</span> <span class="token string">"nodemon --watch 'src/**/*.js' --exec 'node server.js'"</span>
<span class="token punctuation">}</span>
</code></pre>
                        </dd>
                        <dt>Troubleshooting Dependency Conflicts</dt>
                        <dd>
                            The dependency conflicts were another major issue. Older versions of some libraries, such as Babel or TypeScript, wouldn’t work properly with the newer versions of Node.js or ESLint. I had to experiment with different version combinations to find a setup that worked without too many compatibility issues. The conflicts between Node.js versions and specific package versions required that I settle on using Node.js 16.x, which was a stable release compatible with both ESLint and Nodemon. However, this still meant that I couldn’t use certain cutting-edge features of Node.js 18.x without risking breaking the entire setup.
                            <pre class="language-JavaScript"><code class="language-JavaScript"><span class="token string-property property">"engines"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">"node"</span><span class="token operator">:</span> <span class="token string">">=16.0.0"</span>
<span class="token punctuation">}</span>
</code></pre>
                            To handle these issues, I relied on tools like `nvm` (Node Version Manager) to switch between Node.js versions easily, allowing me to maintain different projects with different Node.js versions without causing issues in my overall environment.
                            <pre class="language-base"><code class="language-bash">nvm use <span class="token number">16</span>
</code></pre>
                        </dd>
                        <dt>The Decision to Start Over</dt>
                        <dd>After countless hours spent troubleshooting, upgrading dependencies, and trying different combinations, I realized that my dev environment was a patchwork of fixes that lacked stability. I made the tough decision to scrap the original environment and start fresh with a minimalist setup that only included the essentials. This decision was key in reducing complexity and avoiding further dependency conflicts. I chose to start with the basics: a simple server, a linter, and a few essential packages. Once that was stable, I could expand incrementally.</dd>
                        <dt>Lessons Learned from Breaking Changes</dt>
                        <dd>The experience of troubleshooting breaking changes taught me valuable lessons about maintaining a development environment: 1. **Stick to LTS Versions**: Always aim for Long-Term Support (LTS) versions of Node.js and other core packages to avoid running into cutting-edge changes that could break backward compatibility. 2. **Understand Your Dependencies**: Before upgrading any package, especially major versions, review the changelogs and release notes to understand what breaking changes have been introduced. 3. **Use Version Locking**: Using `package-lock.json` or `yarn.lock` files can save a lot of trouble by ensuring consistent dependency versions across different environments. 4. **Refactor Incrementally**: When upgrading or fixing breaking changes, it’s better to refactor your codebase step-by-step, rather than trying to overhaul everything at once.</dd>
                    </dl>
                    <h2 class="subheading mb-3">Conclusion: Starting Fresh After Breaking Changes</h2>
                    <p>The breaking changes to Node.js, ESLint, and Nodemon forced me to re-evaluate my initial approach. By starting fresh and focusing on core functionality, I was able to create a more stable and maintainable development environment. This experience reinforced the importance of simplicity and version management in modern development workflows.</p>
                    <h1>Rebuilding My JS-Dev-Env Project</h1>
                    <p>When I first set out to build a development environment for my JavaScript project, I envisioned a smooth, streamlined setup that would support all my needs. I wanted a workspace where I could write modern JavaScript, manage dependencies effortlessly, lint my code, and run a local server with instant updates.</p>
                    <p>But things didn't go as planned. Here is how I built a functional dev environment from scratch.</p>
                    <dl>
                        <dt>Building a Basic Development Environment</dt>
                        <dd>
                            <p>I started fresh, deleteing everthing in my folder expect for .git and starting over. At least I would have a history of before and after.</p>
                            <pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">cd</span> js-dev-env
<span class="token function">npm</span> init <span class="token parameter variable">-y</span>
</code></pre>
                            I installed core packages like Express, Nodemon, EJS, and Bootstrap.
                            <pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> express nodemon ejs bootstrap
<span class="token function">npm</span> <span class="token function">install</span> --save-dev nodemon
</code></pre>
                            I then added basic scripts to package.json.
                            <pre class="language-yml"><code class="language-yml"><span class="token key atrule">"scripts"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token key atrule">"start"</span><span class="token punctuation">:</span> <span class="token string">"node server.js"</span><span class="token punctuation">,</span>
  <span class="token key atrule">"dev"</span><span class="token punctuation">:</span> <span class="token string">"nodemon server.js"</span>
<span class="token punctuation">}</span>
</code></pre>
                        </dd>
                        <dt>Building the Basic Site</dt>
                        <dd>
                            I set up a simple Express server to serve content and EJS templates.
                            <pre class="language-JavaScript"><code class="language-JavaScript"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token string">'view engine'</span><span class="token punctuation">,</span> <span class="token string">'ejs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token method function property-access">static</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'public'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token string">'index'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Home'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token method function property-access">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'Server running on http://localhost:3000'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
                        </dd>
                        <dt>Running the Site</dt>
                        <dd>
                            With everything set up, I used Nodemon to run the development server.
                            <pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run dev
</code></pre>
                        </dd>
                    </dl>
                    <h2 class="subheading mb-3">Conclusion: Lessons Learned</h2>
                    <p>In the end, starting over helped me streamline my development environment. By going back to basics, I was able to:</p>
                    <dl>
                        <dt>Use Express</dt>
                        <dd>Serve static content and manage routes.</dd>
                        <dt>Integrate Nodemon</dt>
                        <dd>Automatically restart the server on changes during development.</dd>
                        <dt>Employ EJS</dt>
                        <dd>Easily manage templates and layouts.</dd>
                        <dt>Utilize Bootstrap</dt>
                        <dd>Simplify styling without writing custom CSS.</dd>
                    </dl>
                    <p>This approach not only simplified my development process but taught me the value of focusing on core functionality first.</p>
                    <h1>Dynamic Content and Navigation</h1>
                    <h2 class="subheading mb-3">Simplify content management and navigation using a JSON file</h2>
                    <p>I decided I wanted some dynamic content and navigation in the project. I added a `pages.json` file to dynamically control both the content and navigation of the pages in my JS-Dev-Env project. This approach allows you to manage your site's content and navigation links without hardcoding them, making it much easier to update or add new pages later on.</p>
                    <dl>
                        <dt>Prerequisites</dt>
                        <dd>
                            <p>Before starting, ensure the following is in place:</p>
                            <ul>
                                <li>Node.js installed</li>
                                <li>Express set up to handle routes</li>
                                <li>EJS templating engine</li>
                                <li>Bootstrap for styling</li>
                            </ul>
                        </dd>
                        <dt>Step 1: Create the pages.json File</dt>
                        <dd>
                            The `pages.json` file will hold details for all your site's pages, such as the title, URL, template, and content. This will allow you to dynamically generate both pages and navigation. First, create a `data` folder in the root of your project, and inside it, create a `pages.json` file. Here's an example of how to structure your JSON file:
                            <pre class="language-JavaScript"><code class="language-JavaScript"><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"Home"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"url"</span><span class="token operator">:</span> <span class="token string">"/"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"template"</span><span class="token operator">:</span> <span class="token string">"page"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"content"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"heading"</span><span class="token operator">:</span> <span class="token string">"Welcome to My Bootstrap 5 Website"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"text"</span><span class="token operator">:</span> <span class="token string">"This is the home page."</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"About"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"url"</span><span class="token operator">:</span> <span class="token string">"/about"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"template"</span><span class="token operator">:</span> <span class="token string">"page"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"content"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"heading"</span><span class="token operator">:</span> <span class="token string">"About Us"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"text"</span><span class="token operator">:</span> <span class="token string">"This is the about page. Learn more about us here."</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"Contact"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"url"</span><span class="token operator">:</span> <span class="token string">"/contact"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"template"</span><span class="token operator">:</span> <span class="token string">"page"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"content"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"heading"</span><span class="token operator">:</span> <span class="token string">"Contact Us"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"text"</span><span class="token operator">:</span> <span class="token string">"Get in touch with us using the form below."</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre>
                        </dd>
                        <dt>Step 2: Modify index.js to Use pages.json</dt>
                        <dd>
                            Now, update your `index.js` file to read the `pages.json` data and generate routes dynamically. This step also involves extracting the top-level pages for the navigation bar and passing them to EJS templates.
                            <pre class="language-JavaScript"><code class="language-JavaScript"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token string">'view engine'</span><span class="token punctuation">,</span> <span class="token string">'ejs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token method function property-access">static</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'public'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Read the pages.json file</span>
<span class="token keyword">const</span> pagesData <span class="token operator">=</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token method function property-access">readFileSync</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token string">'pages.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Filter top-level pages for navigation</span>
<span class="token keyword">const</span> topLevelPages <span class="token operator">=</span> pagesData<span class="token punctuation">.</span><span class="token method function property-access">filter</span><span class="token punctuation">(</span><span class="token parameter">page</span> <span class="token arrow operator">=></span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token property-access">url</span><span class="token punctuation">.</span><span class="token method function property-access">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex"><span class="token escape">\/</span></span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Generate dynamic routes from pages.json</span>
pagesData<span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token parameter">page</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  app<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token property-access">url</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token property-access">template</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> page<span class="token punctuation">.</span><span class="token property-access">title</span><span class="token punctuation">,</span>
      <span class="token literal-property property">heading</span><span class="token operator">:</span> page<span class="token punctuation">.</span><span class="token property-access">content</span><span class="token punctuation">.</span><span class="token property-access">heading</span><span class="token punctuation">,</span>
      <span class="token literal-property property">text</span><span class="token operator">:</span> page<span class="token punctuation">.</span><span class="token property-access">content</span><span class="token punctuation">.</span><span class="token property-access">text</span><span class="token punctuation">,</span>
      <span class="token literal-property property">pages</span><span class="token operator">:</span> topLevelPages  <span class="token comment">// Pass navigation items</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Start the server</span>
<span class="token keyword">const</span> port <span class="token operator">=</span> process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">||</span> <span class="token number">3000</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token method function property-access">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Server running at http://localhost:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
                        </dd>
                        <dt>Step 3: Update the Layout to Include Dynamic Navigation</dt>
                        <dd>
                            Next, update the `layout.ejs` file to dynamically render the navigation bar based on the `pages.json` data. This avoids hardcoding navigation links in every template and makes it easier to manage as new pages are added.
                            <pre class="language-html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>&lt;%= title %><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/css/modern-styles.css<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- Dynamic Navigation Bar --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbar navbar-expand-lg navbar-light bg-light<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container-fluid<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbar-brand<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>My Site<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbar-toggler<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">data-bs-toggle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>collapse<span class="token punctuation">"</span></span> <span class="token attr-name">data-bs-target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#navbarNav<span class="token punctuation">"</span></span> <span class="token attr-name">aria-controls</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbarNav<span class="token punctuation">"</span></span> <span class="token attr-name">aria-expanded</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbar-toggler-icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>collapse navbar-collapse<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbarNav<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbar-nav ms-auto<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          &lt;% pages.forEach(function(page) { %>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-link<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&lt;%= page.url %><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&lt;%= page.title %><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
          &lt;% }); %>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- Main Content --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container mt-5<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>&lt;%= heading %><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>&lt;%= text %><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    &lt;%- body %> <span class="token comment">&lt;!-- View content will be injected here --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
</code></pre>
                        </dd>
                        <dt>Step 4: Create EJS Templates for Each Page</dt>
                        <dd>
                            <p>Each page in the `pages.json` file needs a corresponding EJS template. I started out with a very basic `page.ejs` template that displays the heading and text content for each page. For the time being it is just an emply page with the heading and text content added in the layout. Over time I can create different templates for different types of pages.</p>
                            <pre class="language-html"><code class="language-html"><span class="token comment">&lt;!--
  Page Template
--></span>
</code></pre>
                        </dd>
                        <dt>Step 5: Run the Project</dt>
                        <dd>
                            Now that everything is set up, you can start your development server using Nodemon:
                            <pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run dev
</code></pre>
                            Visit your site in the browser to see the dynamically generated content and navigation:
                            <pre class="language-bash"><code class="language-bash">http://localhost:3000/
http://localhost:3000/about
http://localhost:3000/contact
</code></pre>
                        </dd>
                    </dl>
                    <h2 class="subheading mb-3">Conclusion: Dynamically Controlled Content and Navigation</h2>
                    <p>By adding a `pages.json` file and updating the server logic, we’ve effectively created a basic content management system that controls both the navigation and the page content dynamically. This setup makes it easy to maintain and expand the site by simply modifying or adding entries in `pages.json`. You no longer need to hardcode new pages or navigation links—everything is driven by data, making it simple to update in the future.</p>
                    <h2 class="subheading mb-3">Add SCSS to JS development environment</h2>
                    <p>Today, I made significant improvements to my JS Dev Env project by addressing key issues and optimizing the development process.</p>
                    <dl>
                        <dt>Integrating SCSS with Bootstrap</dt>
                        <dd>
                            <p>Migrating to SCSS instead of hosted CSS involved several key steps:</p>
                            <ul>
                                <li>
                                    Adding SCSS to the project as a development dependency.
                                    <pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> sass --save-dev
</code></pre>
                                </li>
                                <li>
                                    Configuring a main SCSS file to include Bootstrap SCSS, custom styles, and Bootstrap Icons.
                                    <pre class="language-scss"><code class="language-scss"><span class="token keyword">@import</span> <span class="token string">'node_modules/bootstrap/scss/bootstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">@import</span> <span class="token string">'styles.scss'</span><span class="token punctuation">;</span>
<span class="token keyword">@import</span> <span class="token string">'bootstrap-icons/font/bootstrap-icons'</span><span class="token punctuation">;</span>
</code></pre>
                                </li>
                                <li>
                                    Using the load-path option with Sass to ensure proper import paths.
                                    <pre class="language-scss"><code class="language-scss">sass --watch src/<span class="token property">scss</span><span class="token punctuation">:</span>public/css --load-path=node_modules/bootstrap/scss
</code></pre>
                                </li>
                            </ul>
                        </dd>
                        <dt>Handling Bootstrap Icons Locally</dt>
                        <dd>
                            <p>Serving Bootstrap Icons locally was a critical improvement:</p>
                            <ul>
                                <li>
                                    Adding a script in
                                    <code class="language-json">package.json</code>
                                    :
                                    <pre class="language-JavaScript"><code class="language-JavaScript"><span class="token string-property property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">"copy-icons"</span><span class="token operator">:</span> <span class="token string">"xcopy ./node_modules/bootstrap-icons/font/* ./public/fonts/bootstrap-icons /s /e"</span>
<span class="token punctuation">}</span></code></pre>
                                </li>
                                <li>
                                    Verifying the icons under
                                    <code class="language-bash">public/fonts/bootstrap-icons</code>
                                    and updating
                                    <code class="language-html">layout.ejs</code>
                                    to reference the local file.
                                </li>
                            </ul>
                        </dd>
                        <dt>Updating the Development Workflow</dt>
                        <dd>
                            <p>Enhancing the workflow involved creating a consolidated script:</p>
                            <ul>
                                <li>
                                    Installing
                                    <code class="language-bash">
                                        <span class="token function">npm</span>
                                        <span class="token function">install</span>
                                        npm-run-all --save-dev
                                    </code>
                                </li>
                                <li>
                                    Adding a
                                    <code class="language-json">
                                        start
                                        <span class="token operator">:</span>
                                        dev
                                    </code>
                                    script in
                                    <code class="language-json">package.json</code>
                                    :
                                    <pre class="language-json"><code class="language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"start:dev"</span><span class="token operator">:</span> <span class="token string">"npm-run-all copy-icons build-css watch-css nodemon"</span>
<span class="token punctuation">}</span></code></pre>
                                </li>
                                <li>Testing to ensure changes were handled seamlessly.</li>
                            </ul>
                        </dd>
                        <dt>Dynamic Routing with Pages.json</dt>
                        <dd>
                            <p>Improving routing with code.language-json | pages.json | added flexibility:</p>
                            <ul>
                                <li>Allowed icons in content fields like headings, text, and body.</li>
                                <li>Simplified adding new pages with consistent navigation.</li>
                            </ul>
                        </dd>
                        <dt>Lessons Learned</dt>
                        <dd>
                            <p>Key takeaways from this update:</p>
                            <ul>
                                <li>
                                    Migrating from Sass
                                    <code class="language-css">@import</code>
                                    to
                                    <code class="language-css">@use</code>
                                    .
                                </li>
                                <li>Properly serving static assets with correct MIME types.</li>
                                <li>Balancing automation with simplicity in workflows.</li>
                            </ul>
                        </dd>
                        <dt>Conclusion</dt>
                        <dd><p>These updates have made my JS Dev Env project more robust, modular, and maintainable. I hope these insights are helpful as you optimize your own projects. Check back for more updates!</p></dd>
                    </dl>
                </div>
            </article>
        </div>
        <footer class="navbar-dark bg-primary">
            <div class="row">
                <div class="col-1"><br /></div>
                <div class="col-10 text-left">
                    <br />
                    <!-- Ensure current article exists-->
                    <!-- Extract and clean currentKeywords-->
                    <!-- Only check for related articles if there are valid keywords-->
                    <!-- Shuffle related articles and limit to 3-->
                    <!-- Render current article's keywords as badges-->
                    <div class="keywords mt-3">
                        <p class="text-white">Hashtags:</p>
                        <div class="d-flex flex-wrap gap-2">
                            <span class="badge bg-primary text-uppercase">{&quot;articletitle&quot;:&quot;troubleshooting js-dev-env project&quot;</span>
                            <span class="badge bg-primary text-uppercase">&quot;articledescription&quot;:&quot;explore the challenges faced while troubleshooting a javascript development environment</span>
                            <span class="badge bg-primary text-uppercase">including breaking changes and dependency conflicts</span>
                            <span class="badge bg-primary text-uppercase">and learn how to rebuild a stable setup.&quot;</span>
                            <span class="badge bg-primary text-uppercase">&quot;articlecontent&quot;:&quot;# troubleshooting js-dev-env project\n\n## a story of challenges</span>
                            <span class="badge bg-primary text-uppercase">breaking changes</span>
                            <span class="badge bg-primary text-uppercase">and rebuilding from scratch\n\nwhen i first set out to build a development environment for my javascript project</span>
                            <span class="badge bg-primary text-uppercase">i envisioned a smooth</span>
                            <span class="badge bg-primary text-uppercase">streamlined setup. i wanted a workspace where i could write modern javascript</span>
                            <span class="badge bg-primary text-uppercase">manage dependencies effortlessly</span>
                            <span class="badge bg-primary text-uppercase">lint my code</span>
                            <span class="badge bg-primary text-uppercase">and run a local server with instant updates.\n\nhowever</span>
                            <span class="badge bg-primary text-uppercase">what i didn’t account for was the series of breaking changes in the core packages that made my initial environment incompatible with the newer versions of these tools.\n\n## facing the initial issues and breaking changes\n\nthe first sign of trouble was when i tried to upgrade my core packages—node.js</span>
                            <span class="badge bg-primary text-uppercase">nodemon</span>
                            <span class="badge bg-primary text-uppercase">and eslint. each package had introduced breaking changes that resulted in errors</span>
                            <span class="badge bg-primary text-uppercase">version conflicts</span>
                            <span class="badge bg-primary text-uppercase">and even the inability to run the project. the breaking changes in eslint were the most frustrating. several rules were deprecated</span>
                            <span class="badge bg-primary text-uppercase">and new rule configurations required major changes to the `.eslintrc` file. additionally</span>
                            <span class="badge bg-primary text-uppercase">the plugin `eslint-plugin-import` began requiring newer versions of eslint that weren’t backward compatible with my original configuration.\n\n```bash\nnpm install eslint@latest eslint-plugin-import@latest\n```\n\nnodemon also underwent significant updates. the move to nodemon 3.x came with breaking changes in how the watcher worked and how it interacted with my build scripts. the config settings i was using to handle auto-reloading became obsolete</span>
                            <span class="badge bg-primary text-uppercase">causing the server to crash when certain files changed.\n\n```json\n\&quot;dev\&quot;: \&quot;nodemon --watch src --exec node server.js\&quot;\n```\n\nthese breaking changes led to a cascade of dependency issues</span>
                            <span class="badge bg-primary text-uppercase">where some packages required older versions of node.js</span>
                            <span class="badge bg-primary text-uppercase">while others demanded the latest version. this mismatch made it nearly impossible to have a stable</span>
                            <span class="badge bg-primary text-uppercase">functioning environment without sacrificing modern features.\n\n## code changes to support new versions\n\nto resolve these issues</span>
                            <span class="badge bg-primary text-uppercase">i had to update several parts of my codebase. first</span>
                            <span class="badge bg-primary text-uppercase">i upgraded the project dependencies to the latest versions and updated the eslint rules and configuration accordingly. for example</span>
                            <span class="badge bg-primary text-uppercase">eslint’s newer rules required specific configuration changes. the deprecation of `no-use-before-define` for functions required me to manually rewrite functions or disable the rule in the config file.\n\n```json\n\&quot;rules\&quot;: {\n \&quot;no-use-before-define\&quot;: [\&quot;error\&quot;</span>
                            <span class="badge bg-primary text-uppercase">{ \&quot;functions\&quot;: false }]\n}\n```\n\ni also had to refactor my scripts to ensure compatibility with nodemon’s changes. the way the file watcher worked had changed</span>
                            <span class="badge bg-primary text-uppercase">so i modified my script in `package.json` to explicitly specify which directories to watch.\n\n```json\n\&quot;scripts\&quot;: {\n \&quot;start\&quot;: \&quot;node server.js\&quot;</span>
                            <span class="badge bg-primary text-uppercase">\n \&quot;dev\&quot;: \&quot;nodemon --watch 'src/**/*.js' --exec 'node server.js'\&quot;\n}\n```\n\n## troubleshooting dependency conflicts\n\nthe dependency conflicts were another major issue. older versions of some libraries</span>
                            <span class="badge bg-primary text-uppercase">such as babel or typescript</span>
                            <span class="badge bg-primary text-uppercase">wouldn’t work properly with the newer versions of node.js or eslint. i had to experiment with different version combinations to find a setup that worked without too many compatibility issues. the conflicts between node.js versions and specific package versions required that i settle on using node.js 16.x</span>
                            <span class="badge bg-primary text-uppercase">which was a stable release compatible with both eslint and nodemon. however</span>
                            <span class="badge bg-primary text-uppercase">this still meant that i couldn’t use certain cutting-edge features of node.js 18.x without risking breaking the entire setup.\n\n```json\n\&quot;engines\&quot;: {\n \&quot;node\&quot;: \&quot;&gt;=16.0.0\&quot;\n}\n```\n\nto handle these issues</span>
                            <span class="badge bg-primary text-uppercase">i relied on tools like `nvm` (node version manager) to switch between node.js versions easily</span>
                            <span class="badge bg-primary text-uppercase">allowing me to maintain different projects with different node.js versions without causing issues in my overall environment.\n\n```bash\nnvm use 16\n```\n\n## the decision to start over\n\nafter countless hours spent troubleshooting</span>
                            <span class="badge bg-primary text-uppercase">upgrading dependencies</span>
                            <span class="badge bg-primary text-uppercase">and trying different combinations</span>
                            <span class="badge bg-primary text-uppercase">i realized that my dev environment was a patchwork of fixes that lacked stability. i made the tough decision to scrap the original environment and start fresh with a minimalist setup that only included the essentials. this decision was key in reducing complexity and avoiding further dependency conflicts. i chose to start with the basics: a simple server</span>
                            <span class="badge bg-primary text-uppercase">a linter</span>
                            <span class="badge bg-primary text-uppercase">and a few essential packages. once that was stable</span>
                            <span class="badge bg-primary text-uppercase">i could expand incrementally.\n\n## lessons learned from breaking changes\n\nthe experience of troubleshooting breaking changes taught me valuable lessons about maintaining a development environment:\n\n1. **stick to lts versions**: always aim for long-term support (lts) versions of node.js and other core packages to avoid running into cutting-edge changes that could break backward compatibility.\n2. **understand your dependencies**: before upgrading any package</span>
                            <span class="badge bg-primary text-uppercase">especially major versions</span>
                            <span class="badge bg-primary text-uppercase">review the changelogs and release notes to understand what breaking changes have been introduced.\n3. **use version locking**: using `package-lock.json` or `yarn.lock` files can save a lot of trouble by ensuring consistent dependency versions across different environments.\n4. **refactor incrementally**: when upgrading or fixing breaking changes</span>
                            <span class="badge bg-primary text-uppercase">it’s better to refactor your codebase step-by-step</span>
                            <span class="badge bg-primary text-uppercase">rather than trying to overhaul everything at once.\n\n## conclusion: starting fresh after breaking changes\n\nthe breaking changes to node.js</span>
                            <span class="badge bg-primary text-uppercase">eslint</span>
                            <span class="badge bg-primary text-uppercase">and nodemon forced me to re-evaluate my initial approach. by starting fresh and focusing on core functionality</span>
                            <span class="badge bg-primary text-uppercase">i was able to create a more stable and maintainable development environment. this experience reinforced the importance of simplicity and version management in modern development workflows.\n\n## rebuilding my js-dev-env project\n\nwhen i first set out to build a development environment for my javascript project</span>
                            <span class="badge bg-primary text-uppercase">i envisioned a smooth</span>
                            <span class="badge bg-primary text-uppercase">streamlined setup that would support all my needs. i wanted a workspace where i could write modern javascript</span>
                            <span class="badge bg-primary text-uppercase">manage dependencies effortlessly</span>
                            <span class="badge bg-primary text-uppercase">lint my code</span>
                            <span class="badge bg-primary text-uppercase">and run a local server with instant updates.\n\nbut things didn't go as planned. here is how i built a functional dev environment from scratch.\n\n### building a basic development environment\n\ni started fresh</span>
                            <span class="badge bg-primary text-uppercase">deleting everything in my folder except for `.git` and starting over. at least i would have a history of before and after.\n\n```bash\ncd js-dev-env\nnpm init -y\n```\n\ni installed core packages like express</span>
                            <span class="badge bg-primary text-uppercase">nodemon</span>
                            <span class="badge bg-primary text-uppercase">ejs</span>
                            <span class="badge bg-primary text-uppercase">and bootstrap.\n\n```bash\nnpm install express nodemon ejs bootstrap\nnpm install --save-dev nodemon\n```\n\ni then added basic scripts to `package.json`.\n\n```json\n\&quot;scripts\&quot;: {\n \&quot;start\&quot;: \&quot;node server.js\&quot;</span>
                            <span class="badge bg-primary text-uppercase">\n \&quot;dev\&quot;: \&quot;nodemon server.js\&quot;\n}\n```\n\n### building the basic site\n\ni set up a simple express server to serve content and ejs templates.\n\n```javascript\nconst express = require('express');\nconst path = require('path');\nconst app = express();\n\napp.set('view engine'</span>
                            <span class="badge bg-primary text-uppercase">'ejs');\napp.use(express.static(path.join(__dirname</span>
                            <span class="badge bg-primary text-uppercase">'public')));\n\napp.get('/'</span>
                            <span class="badge bg-primary text-uppercase">(req</span>
                            <span class="badge bg-primary text-uppercase">res) =&gt; {\n res.render('index'</span>
                            <span class="badge bg-primary text-uppercase">{ title: 'home' });\n});\n\napp.listen(3000</span>
                            <span class="badge bg-primary text-uppercase">() =&gt; {\n console.log('server running on http://localhost:3000');\n});\n```\n\n### running the site\n\nwith everything set up</span>
                            <span class="badge bg-primary text-uppercase">i used nodemon to run the development server.\n\n```bash\nnpm run dev\n```\n\n## conclusion: lessons learned\n\nin the end</span>
                            <span class="badge bg-primary text-uppercase">starting over helped me streamline my development environment. by going back to basics</span>
                            <span class="badge bg-primary text-uppercase">i was able to:\n\n- use express to serve static content and manage routes.\n- integrate nodemon to automatically restart the server on changes during development.\n- employ ejs to easily manage templates and layouts.\n- utilize bootstrap to simplify styling without writing custom css.\n\nthis approach not only simplified my development process but taught me the value of focusing on core functionality first.\n\n## dynamic content and navigation\n\n### simplify content management and navigation using a json file\n\ni decided i wanted some dynamic content and navigation in the project. i added a `pages.json` file to dynamically control both the content and navigation of the pages in my js-dev-env project. this approach allows you to manage your site's content and navigation links without hardcoding them</span>
                            <span class="badge bg-primary text-uppercase">making it much easier to update or add new pages later on.\n\n#### prerequisites\n\nbefore starting</span>
                            <span class="badge bg-primary text-uppercase">ensure the following is in place:\n\n- node.js installed\n- express set up to handle routes\n- ejs templating engine\n- bootstrap for styling\n\n#### step 1: create the `pages.json` file\n\nthe `pages.json` file will hold details for all your site's pages</span>
                            <span class="badge bg-primary text-uppercase">such as the title</span>
                            <span class="badge bg-primary text-uppercase">url</span>
                            <span class="badge bg-primary text-uppercase">template</span>
                            <span class="badge bg-primary text-uppercase">and content. this will allow you to dynamically generate both pages and navigation. first</span>
                            <span class="badge bg-primary text-uppercase">create a `data` folder in the root of your project</span>
                            <span class="badge bg-primary text-uppercase">and inside it</span>
                            <span class="badge bg-primary text-uppercase">create a `pages.json` file. here's an example of how to structure your json file:\n\n```json\n[\n {\n \&quot;title\&quot;: \&quot;home\&quot;</span>
                            <span class="badge bg-primary text-uppercase">\n \&quot;url\&quot;: \&quot;/\&quot;</span>
                            <span class="badge bg-primary text-uppercase">\n \&quot;template\&quot;: \&quot;page\&quot;</span>
                            <span class="badge bg-primary text-uppercase">\n \&quot;content\&quot;: {\n \&quot;heading\&quot;: \&quot;welcome to my bootstrap 5 website\&quot;</span>
                            <span class="badge bg-primary text-uppercase">\n \&quot;text\&quot;: \&quot;this is the home page.\&quot;\n }\n }</span>
                            <span class="badge bg-primary text-uppercase">\n {\n \&quot;title\&quot;: \&quot;about\&quot;</span>
                            <span class="badge bg-primary text-uppercase">\n \&quot;url\&quot;: \&quot;/about\&quot;</span>
                            <span class="badge bg-primary text-uppercase">\n \&quot;template\&quot;: \&quot;page\&quot;</span>
                            <span class="badge bg-primary text-uppercase">\n \&quot;content\&quot;: {\n \&quot;heading\&quot;: \&quot;about us\&quot;</span>
                            <span class="badge bg-primary text-uppercase">\n \&quot;text\&quot;: \&quot;this is the about page. learn more about us here.\&quot;\n }\n }</span>
                            <span class="badge bg-primary text-uppercase">\n {\n \&quot;title\&quot;: \&quot;contact\&quot;</span>
                            <span class="badge bg-primary text-uppercase">\n \&quot;url\&quot;: \&quot;/contact\&quot;</span>
                            <span class="badge bg-primary text-uppercase">\n \&quot;template\&quot;: \&quot;page\&quot;</span>
                            <span class="badge bg-primary text-uppercase">\n \&quot;content\&quot;: {\n \&quot;heading\&quot;: \&quot;contact us\&quot;</span>
                            <span class="badge bg-primary text-uppercase">\n \&quot;text\&quot;: \&quot;get in touch with us using the form below.\&quot;\n }\n }\n]\n```\n\n#### step 2: modify `index.js` to use `pages.json`\n\nnow</span>
                            <span class="badge bg-primary text-uppercase">update your `index.js` file to read the `pages.json` data and generate routes dynamically. this step also involves extracting the top-level pages for the navigation bar and passing them to ejs templates.\n\n```javascript\nconst express = require('express');\nconst path = require('path');\nconst fs = require('fs');\nconst app = express();\n\napp.set('view engine'</span>
                            <span class="badge bg-primary text-uppercase">'ejs');\napp.use(express.static(path.join(__dirname</span>
                            <span class="badge bg-primary text-uppercase">'public')));\n\n// read the pages.json file\nconst pagesdata = json.parse(fs.readfilesync(path.join(__dirname</span>
                            <span class="badge bg-primary text-uppercase">'data'</span>
                            <span class="badge bg-primary text-uppercase">'pages.json')</span>
                            <span class="badge bg-primary text-uppercase">'utf-8'));\n\n// filter top-level pages for navigation\nconst toplevelpages = pagesdata.filter(page =&gt; (page.url.match(/\\//g) || []).length === 1);\n\n// generate dynamic routes from pages.json\npagesdata.foreach(page =&gt; {\n app.get(page.url</span>
                            <span class="badge bg-primary text-uppercase">(req</span>
                            <span class="badge bg-primary text-uppercase">res) =&gt; {\n res.render(page.template</span>
                            <span class="badge bg-primary text-uppercase">{\n title: page.title</span>
                            <span class="badge bg-primary text-uppercase">\n heading: page.content.heading</span>
                            <span class="badge bg-primary text-uppercase">\n text: page.content.text</span>
                            <span class="badge bg-primary text-uppercase">\n pages: toplevelpages // pass navigation items\n });\n });\n});\n\n// start the server\nconst port = process.env.port || 3000;\napp.listen(port</span>
                            <span class="badge bg-primary text-uppercase">() =&gt; {\n console.log(`server running at http://localhost:${port}/`);\n});\n```\n\n#### step 3: update the layout to include dynamic navigation\n\nnext</span>
                            <span class="badge bg-primary text-uppercase">update the `layout.ejs` file to dynamically render the navigation bar based on the `pages.json` data. this avoids hardcoding navigation links in every template and makes it easier to manage as new pages are added.\n\n```html\n&lt;!doctype html&gt;\n&lt;html lang=\&quot;en\&quot;&gt;\n&lt;head&gt;\n &lt;meta charset=\&quot;utf-8\&quot;&gt;\n &lt;meta name=\&quot;viewport\&quot; content=\&quot;width=device-width</span>
                            <span class="badge bg-primary text-uppercase">
                                initial-scale=1.0\&quot;&gt;\n &lt;title&gt;&lt;%= title %&gt;&lt;/title&gt;\n &lt;link href=\&quot;/css/modern-styles.css\&quot; rel=\&quot;stylesheet\&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n &lt;!-- dynamic navigation bar --&gt;\n &lt;nav class=\&quot;navbar navbar-expand-lg navbar-light bg-light\&quot;&gt;\n &lt;div class=\&quot;container-fluid\&quot;&gt;\n &lt;a class=\&quot;navbar-brand\&quot; href=\&quot;/\&quot;&gt;my site&lt;/a&gt;\n &lt;button class=\&quot;navbar-toggler\&quot; type=\&quot;button\&quot; data-bs-toggle=\&quot;collapse\&quot; data-bs-target=\&quot;#navbarnav\&quot; aria-controls=\&quot;navbarnav\&quot; aria-expanded=\&quot;false\&quot;&gt;\n &lt;span class=\&quot;navbar-toggler-icon\&quot;&gt;&lt;/span&gt;\n &lt;/button&gt;\n &lt;div class=\&quot;collapse navbar-collapse\&quot; id=\&quot;navbarnav\&quot;&gt;\n &lt;ul class=\&quot;navbar-nav ms-auto\&quot;&gt;\n &lt;% pages.foreach(function(page) { %&gt;\n &lt;li
                                class=\&quot;nav-item\&quot;&gt;\n &lt;a class=\&quot;nav-link\&quot; href=\&quot;&lt;%= page.url %&gt;\&quot;&gt;&lt;%= page.title %&gt;&lt;/a&gt;\n &lt;/li&gt;\n &lt;% }); %&gt;\n &lt;/ul&gt;\n &lt;/div&gt;\n &lt;/div&gt;\n &lt;/nav&gt;\n &lt;!-- main content --&gt;\n &lt;main class=\&quot;container mt-5\&quot;&gt;\n &lt;h1&gt;&lt;%= heading %&gt;&lt;/h1&gt;\n &lt;p&gt;&lt;%= text %&gt;&lt;/p&gt;\n &lt;%- body %&gt; &lt;!-- view content will be injected here --&gt;\n &lt;/main&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n```\n\n#### step 4: create ejs templates for each page\n\neach page in the `pages.json` file needs a corresponding ejs template. i started out with a very basic `page
                            </span>
                        </div>
                    </div>
                    <!-- Render related articles in a card layout-->
                    <p class="mt-4 text-muted"></p>
                    <div class="mt-4"><p class="text-white"></p></div>
                </div>
            </div>
            <div class="row">
                <div class="col-1"><br /></div>
            </div>
            <div class="row">
                <div class="col-1"><br /></div>
                <div class="col-10 justify-content-end">
                    <br />
                    <div class="social-icons d-flex">
                        <a class="social-icon" href="https://www.linkedin.com/in/markhazleton" target="_blank" rel="noopener noreferrer" title="LinkedIn Profile"><i class="fab fa-linkedin-in"></i></a>
                        <a class="social-icon" href="https://github.com/markhazleton" target="_blank" rel="noopener noreferrer" title="GitHub Profile"><i class="fab fa-github"></i></a>
                        <a class="social-icon" href="https://www.youtube.com/@MarkHazleton" target="_blank" rel="noopener noreferrer" title="YouTube Channel"><i class="fab fa-youtube"></i></a>
                        <a class="social-icon" href="https://www.instagram.com/markhazleton/" target="_blank" rel="noopener noreferrer" title="Instagram Profile"><i class="fab fa-instagram"></i></a>
                        <a class="social-icon" href="https://markhazleton.com/rss.xml" target="_blank" rel="noopener noreferrer" title="RSS Feed"><i class="fas fa-rss"></i></a>
                        <br />
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-12"><br /></div>
            </div>
        </footer>
        <!-- Core theme JS-->
        <script src="/js/scripts.js"></script>
    </body>
</html>

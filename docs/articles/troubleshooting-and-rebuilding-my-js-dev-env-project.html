<!-- Modern Layout with Dynamic SEO - Centralizes all SEO meta tag generation-->
<!-- Uses articles.json data to automatically populate title, description, keywords-->
<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Essential Meta Tags-->
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="color-scheme" content="light dark" />
        <!-- Content Security Policy for Google Analytics support (Note: Azure Static Web Apps headers take precedence)-->
        <meta
            http-equiv="Content-Security-Policy"
            content="default-src 'self' data:; script-src 'self' 'unsafe-inline' 'unsafe-eval' data: https://www.googletagmanager.com https://www.google-analytics.com https://static.cloudflareinsights.com https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://www.youtube.com https://s.ytimg.com https://*.youtube.com https://markhazleton.com; connect-src 'self' data: https://www.googletagmanager.com https://www.google-analytics.com https://analytics.google.com https://region1.google-analytics.com https://region1.analytics.google.com https://stats.g.doubleclick.net https://cloudflareinsights.com https://www.youtube.com https://www.youtube.com/youtubei/v1/ https://*.youtube.com https://*.googlevideo.com https://*.ytimg.com https://markhazleton.com; img-src 'self' data: https://www.google-analytics.com https://www.googletagmanager.com https://i.ytimg.com https://*.ytimg.com https://*.youtube.com https://*.googlevideo.com https://*.ggpht.com; style-src 'self' 'unsafe-inline' https://cdnjs.cloudflare.com; font-src 'self' https://r2cdn.perplexity.ai; worker-src 'self' blob:; frame-src 'self' data: https://www.youtube.com https://www.youtube-nocookie.com https://player.vimeo.com; object-src 'none'; base-uri 'self'; form-action 'self'; media-src 'self' data: https://*.googlevideo.com https://*.youtube.com blob:; child-src 'self' data: https://www.youtube.com https://www.youtube-nocookie.com"
        />
        <!-- Theme color for supported browsers (Chrome, Safari, Edge)-->
        <meta name="theme-color" content="#2c3e50" media="(prefers-color-scheme: light)" />
        <meta name="theme-color" content="#34495e" media="(prefers-color-scheme: dark)" />
        <!-- Dynamic SEO Meta Tags from articles.json-->
        <title>Troubleshooting JS-Dev-Env Project</title>
        <meta name="description" content="Discover how to troubleshoot and rebuild a JavaScript development environment using Node.js, Nodemon, ESLint, Express, and Bootstrap effectively." />
        <meta name="keywords" content="Mark Hazleton, JavaScript development, Node.js, Nodemon, ESLint, Express, Bootstrap" />
        <meta name="author" content="Mark Hazleton" />
        <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
        <!-- Page-specific metadata block (optional overrides)-->
        <!-- Canonical URL-->
        <link rel="canonical" href="https://markhazleton.com/articles/troubleshooting-and-rebuilding-my-js-dev-env-project.html" />
        <!-- Default canonical override block (for backward compatibility)-->
        <!-- Open Graph Meta Tags - Optimized for LinkedIn Sharing-->
        <meta property="og:title" content="Troubleshooting and Rebuilding My JS-Dev-Env Project" />
        <meta property="og:description" content="Discover how to troubleshoot and rebuild a JavaScript development environment using Node.js, Nodemon, ESLint, Express, and Bootstrap effectively." />
        <meta property="og:type" content="article" />
        <meta property="og:url" content="https://markhazleton.com/articles/troubleshooting-and-rebuilding-my-js-dev-env-project.html" />
        <meta property="og:image" content="https://markhazleton.com/assets/img/ArgostoliGreeceBeach.jpg" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="630" />
        <meta property="og:image:alt" content="Troubleshooting and Rebuilding My JS-Dev-Env Project - Mark Hazleton" />
        <meta property="og:site_name" content="Mark Hazleton" />
        <meta property="og:locale" content="en_US" />
        <!-- LinkedIn-specific optimizations-->
        <meta property="article:author" content="Mark Hazleton" />
        <meta property="article:published_time" content="2024-10-02" />
        <meta property="article:tag" content='{"articleTitle":"Troubleshooting JS-Dev-Env Project"' />
        <meta property="article:tag" content='"articleDescription":"Explore the challenges faced while troubleshooting a JavaScript development environment' />
        <meta property="article:tag" content="including breaking changes and dependency conflicts" />
        <meta property="article:tag" content='and learn how to rebuild a stable setup."' />
        <meta property="article:tag" content='"articleContent":"# Troubleshooting JS-Dev-Env Project\n\n## A Story of Challenges' />
        <meta property="article:tag" content="Breaking Changes" />
        <meta property="article:tag" content="and Rebuilding from Scratch\n\nWhen I first set out to build a development environment for my JavaScript project" />
        <meta property="article:tag" content="I envisioned a smooth" />
        <meta property="article:tag" content="streamlined setup. I wanted a workspace where I could write modern JavaScript" />
        <meta property="article:tag" content="manage dependencies effortlessly" />
        <meta property="article:tag" content="lint my code" />
        <meta property="article:tag" content="and run a local server with instant updates.\n\nHowever" />
        <meta property="article:tag" content="what I didn’t account for was the series of breaking changes in the core packages that made my initial environment incompatible with the newer versions of these tools.\n\n## Facing the Initial Issues and Breaking Changes\n\nThe first sign of trouble was when I tried to upgrade my core packages—Node.js" />
        <meta property="article:tag" content="Nodemon" />
        <meta property="article:tag" content="and ESLint. Each package had introduced breaking changes that resulted in errors" />
        <meta property="article:tag" content="version conflicts" />
        <meta property="article:tag" content="and even the inability to run the project. The breaking changes in ESLint were the most frustrating. Several rules were deprecated" />
        <meta property="article:tag" content="and new rule configurations required major changes to the `.eslintrc` file. Additionally" />
        <meta property="article:tag" content="the plugin `eslint-plugin-import` began requiring newer versions of ESLint that weren’t backward compatible with my original configuration.\n\n```bash\nnpm install eslint@latest eslint-plugin-import@latest\n```\n\nNodemon also underwent significant updates. The move to Nodemon 3.x came with breaking changes in how the watcher worked and how it interacted with my build scripts. The config settings I was using to handle auto-reloading became obsolete" />
        <meta property="article:tag" content='causing the server to crash when certain files changed.\n\n```json\n\"dev\": \"nodemon --watch src --exec node server.js\"\n```\n\nThese breaking changes led to a cascade of dependency issues' />
        <meta property="article:tag" content="where some packages required older versions of Node.js" />
        <meta property="article:tag" content="while others demanded the latest version. This mismatch made it nearly impossible to have a stable" />
        <meta property="article:tag" content="functioning environment without sacrificing modern features.\n\n## Code Changes to Support New Versions\n\nTo resolve these issues" />
        <meta property="article:tag" content="I had to update several parts of my codebase. First" />
        <meta property="article:tag" content="I upgraded the project dependencies to the latest versions and updated the ESLint rules and configuration accordingly. For example" />
        <meta property="article:tag" content='ESLint’s newer rules required specific configuration changes. The deprecation of `no-use-before-define` for functions required me to manually rewrite functions or disable the rule in the config file.\n\n```json\n\"rules\": {\n  \"no-use-before-define\": [\"error\"' />
        <meta property="article:tag" content='{ \"functions\": false }]\n}\n```\n\nI also had to refactor my scripts to ensure compatibility with Nodemon’s changes. The way the file watcher worked had changed' />
        <meta property="article:tag" content='so I modified my script in `package.json` to explicitly specify which directories to watch.\n\n```json\n\"scripts\": {\n  \"start\": \"node server.js\"' />
        <meta property="article:tag" content="\n  \&quot;dev\&quot;: \&quot;nodemon --watch 'src/**/*.js' --exec 'node server.js'\&quot;\n}\n```\n\n## Troubleshooting Dependency Conflicts\n\nThe dependency conflicts were another major issue. Older versions of some libraries" />
        <meta property="article:tag" content="such as Babel or TypeScript" />
        <meta property="article:tag" content="wouldn’t work properly with the newer versions of Node.js or ESLint. I had to experiment with different version combinations to find a setup that worked without too many compatibility issues. The conflicts between Node.js versions and specific package versions required that I settle on using Node.js 16.x" />
        <meta property="article:tag" content="which was a stable release compatible with both ESLint and Nodemon. However" />
        <meta property="article:tag" content='this still meant that I couldn’t use certain cutting-edge features of Node.js 18.x without risking breaking the entire setup.\n\n```json\n\"engines\": {\n  \"node\": \"&gt;=16.0.0\"\n}\n```\n\nTo handle these issues' />
        <meta property="article:tag" content="I relied on tools like `nvm` (Node Version Manager) to switch between Node.js versions easily" />
        <meta property="article:tag" content="allowing me to maintain different projects with different Node.js versions without causing issues in my overall environment.\n\n```bash\nnvm use 16\n```\n\n## The Decision to Start Over\n\nAfter countless hours spent troubleshooting" />
        <meta property="article:tag" content="upgrading dependencies" />
        <meta property="article:tag" content="and trying different combinations" />
        <meta property="article:tag" content="I realized that my dev environment was a patchwork of fixes that lacked stability. I made the tough decision to scrap the original environment and start fresh with a minimalist setup that only included the essentials. This decision was key in reducing complexity and avoiding further dependency conflicts. I chose to start with the basics: a simple server" />
        <meta property="article:tag" content="a linter" />
        <meta property="article:tag" content="and a few essential packages. Once that was stable" />
        <meta property="article:tag" content="I could expand incrementally.\n\n## Lessons Learned from Breaking Changes\n\nThe experience of troubleshooting breaking changes taught me valuable lessons about maintaining a development environment:\n\n1. **Stick to LTS Versions**: Always aim for Long-Term Support (LTS) versions of Node.js and other core packages to avoid running into cutting-edge changes that could break backward compatibility.\n2. **Understand Your Dependencies**: Before upgrading any package" />
        <meta property="article:tag" content="especially major versions" />
        <meta property="article:tag" content="review the changelogs and release notes to understand what breaking changes have been introduced.\n3. **Use Version Locking**: Using `package-lock.json` or `yarn.lock` files can save a lot of trouble by ensuring consistent dependency versions across different environments.\n4. **Refactor Incrementally**: When upgrading or fixing breaking changes" />
        <meta property="article:tag" content="it’s better to refactor your codebase step-by-step" />
        <meta property="article:tag" content="rather than trying to overhaul everything at once.\n\n## Conclusion: Starting Fresh After Breaking Changes\n\nThe breaking changes to Node.js" />
        <meta property="article:tag" content="ESLint" />
        <meta property="article:tag" content="and Nodemon forced me to re-evaluate my initial approach. By starting fresh and focusing on core functionality" />
        <meta property="article:tag" content="I was able to create a more stable and maintainable development environment. This experience reinforced the importance of simplicity and version management in modern development workflows.\n\n## Rebuilding My JS-Dev-Env Project\n\nWhen I first set out to build a development environment for my JavaScript project" />
        <meta property="article:tag" content="I envisioned a smooth" />
        <meta property="article:tag" content="streamlined setup that would support all my needs. I wanted a workspace where I could write modern JavaScript" />
        <meta property="article:tag" content="manage dependencies effortlessly" />
        <meta property="article:tag" content="lint my code" />
        <meta property="article:tag" content="and run a local server with instant updates.\n\nBut things didn't go as planned. Here is how I built a functional dev environment from scratch.\n\n### Building a Basic Development Environment\n\nI started fresh" />
        <meta property="article:tag" content="deleting everything in my folder except for `.git` and starting over. At least I would have a history of before and after.\n\n```bash\ncd js-dev-env\nnpm init -y\n```\n\nI installed core packages like Express" />
        <meta property="article:tag" content="Nodemon" />
        <meta property="article:tag" content="EJS" />
        <meta property="article:tag" content='and Bootstrap.\n\n```bash\nnpm install express nodemon ejs bootstrap\nnpm install --save-dev nodemon\n```\n\nI then added basic scripts to `package.json`.\n\n```json\n\"scripts\": {\n  \"start\": \"node server.js\"' />
        <meta property="article:tag" content="\n  \&quot;dev\&quot;: \&quot;nodemon server.js\&quot;\n}\n```\n\n### Building the Basic Site\n\nI set up a simple Express server to serve content and EJS templates.\n\n```javascript\nconst express = require('express');\nconst path = require('path');\nconst app = express();\n\napp.set('view engine'" />
        <meta property="article:tag" content="'ejs');\napp.use(express.static(path.join(__dirname" />
        <meta property="article:tag" content="'public')));\n\napp.get('/'" />
        <meta property="article:tag" content="(req" />
        <meta property="article:tag" content="res) =&gt; {\n  res.render('index'" />
        <meta property="article:tag" content="{ title: 'Home' });\n});\n\napp.listen(3000" />
        <meta property="article:tag" content="() =&gt; {\n  console.log('Server running on http://localhost:3000');\n});\n```\n\n### Running the Site\n\nWith everything set up" />
        <meta property="article:tag" content="I used Nodemon to run the development server.\n\n```bash\nnpm run dev\n```\n\n## Conclusion: Lessons Learned\n\nIn the end" />
        <meta property="article:tag" content="starting over helped me streamline my development environment. By going back to basics" />
        <meta property="article:tag" content="I was able to:\n\n- Use Express to serve static content and manage routes.\n- Integrate Nodemon to automatically restart the server on changes during development.\n- Employ EJS to easily manage templates and layouts.\n- Utilize Bootstrap to simplify styling without writing custom CSS.\n\nThis approach not only simplified my development process but taught me the value of focusing on core functionality first.\n\n## Dynamic Content and Navigation\n\n### Simplify Content Management and Navigation Using a JSON File\n\nI decided I wanted some dynamic content and navigation in the project. I added a `pages.json` file to dynamically control both the content and navigation of the pages in my JS-Dev-Env project. This approach allows you to manage your site's content and navigation links without hardcoding them" />
        <meta property="article:tag" content="making it much easier to update or add new pages later on.\n\n#### Prerequisites\n\nBefore starting" />
        <meta property="article:tag" content="ensure the following is in place:\n\n- Node.js installed\n- Express set up to handle routes\n- EJS templating engine\n- Bootstrap for styling\n\n#### Step 1: Create the `pages.json` File\n\nThe `pages.json` file will hold details for all your site's pages" />
        <meta property="article:tag" content="such as the title" />
        <meta property="article:tag" content="URL" />
        <meta property="article:tag" content="template" />
        <meta property="article:tag" content="and content. This will allow you to dynamically generate both pages and navigation. First" />
        <meta property="article:tag" content="create a `data` folder in the root of your project" />
        <meta property="article:tag" content="and inside it" />
        <meta property="article:tag" content='create a `pages.json` file. Here&apos;s an example of how to structure your JSON file:\n\n```json\n[\n  {\n    \"title\": \"Home\"' />
        <meta property="article:tag" content='\n    \"url\": \"/\"' />
        <meta property="article:tag" content='\n    \"template\": \"page\"' />
        <meta property="article:tag" content='\n    \"content\": {\n      \"heading\": \"Welcome to My Bootstrap 5 Website\"' />
        <meta property="article:tag" content='\n      \"text\": \"This is the home page.\"\n    }\n  }' />
        <meta property="article:tag" content='\n  {\n    \"title\": \"About\"' />
        <meta property="article:tag" content='\n    \"url\": \"/about\"' />
        <meta property="article:tag" content='\n    \"template\": \"page\"' />
        <meta property="article:tag" content='\n    \"content\": {\n      \"heading\": \"About Us\"' />
        <meta property="article:tag" content='\n      \"text\": \"This is the about page. Learn more about us here.\"\n    }\n  }' />
        <meta property="article:tag" content='\n  {\n    \"title\": \"Contact\"' />
        <meta property="article:tag" content='\n    \"url\": \"/contact\"' />
        <meta property="article:tag" content='\n    \"template\": \"page\"' />
        <meta property="article:tag" content='\n    \"content\": {\n      \"heading\": \"Contact Us\"' />
        <meta property="article:tag" content='\n      \"text\": \"Get in touch with us using the form below.\"\n    }\n  }\n]\n```\n\n#### Step 2: Modify `index.js` to Use `pages.json`\n\nNow' />
        <meta property="article:tag" content="update your `index.js` file to read the `pages.json` data and generate routes dynamically. This step also involves extracting the top-level pages for the navigation bar and passing them to EJS templates.\n\n```javascript\nconst express = require('express');\nconst path = require('path');\nconst fs = require('fs');\nconst app = express();\n\napp.set('view engine'" />
        <meta property="article:tag" content="'ejs');\napp.use(express.static(path.join(__dirname" />
        <meta property="article:tag" content="'public')));\n\n// Read the pages.json file\nconst pagesData = JSON.parse(fs.readFileSync(path.join(__dirname" />
        <meta property="article:tag" content="'data'" />
        <meta property="article:tag" content="'pages.json')" />
        <meta property="article:tag" content="'utf-8'));\n\n// Filter top-level pages for navigation\nconst topLevelPages = pagesData.filter(page =&gt; (page.url.match(/\\//g) || []).length === 1);\n\n// Generate dynamic routes from pages.json\npagesData.forEach(page =&gt; {\n  app.get(page.url" />
        <meta property="article:tag" content="(req" />
        <meta property="article:tag" content="res) =&gt; {\n    res.render(page.template" />
        <meta property="article:tag" content="{\n      title: page.title" />
        <meta property="article:tag" content="\n      heading: page.content.heading" />
        <meta property="article:tag" content="\n      text: page.content.text" />
        <meta property="article:tag" content="\n      pages: topLevelPages  // Pass navigation items\n    });\n  });\n});\n\n// Start the server\nconst port = process.env.PORT || 3000;\napp.listen(port" />
        <meta property="article:tag" content="() =&gt; {\n  console.log(`Server running at http://localhost:${port}/`);\n});\n```\n\n#### Step 3: Update the Layout to Include Dynamic Navigation\n\nNext" />
        <meta property="article:tag" content='update the `layout.ejs` file to dynamically render the navigation bar based on the `pages.json` data. This avoids hardcoding navigation links in every template and makes it easier to manage as new pages are added.\n\n```html\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n  &lt;meta charset=\"UTF-8\"&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width' />
        <meta
            property="article:tag"
            content='initial-scale=1.0\"&gt;\n  &lt;title&gt;&lt;%= title %&gt;&lt;/title&gt;\n  &lt;link href=\"/css/modern-styles.css\" rel=\"stylesheet\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;!-- Dynamic Navigation Bar --&gt;\n  &lt;nav class=\"navbar navbar-expand-lg navbar-light bg-light\"&gt;\n    &lt;div class=\"container-fluid\"&gt;\n      &lt;a class=\"navbar-brand\" href=\"/\"&gt;My Site&lt;/a&gt;\n      &lt;button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\"&gt;\n        &lt;span class=\"navbar-toggler-icon\"&gt;&lt;/span&gt;\n      &lt;/button&gt;\n      &lt;div class=\"collapse navbar-collapse\" id=\"navbarNav\"&gt;\n        &lt;ul class=\"navbar-nav ms-auto\"&gt;\n          &lt;% pages.forEach(function(page) { %&gt;\n            &lt;li class=\"nav-item\"&gt;\n              &lt;a class=\"nav-link\" href=\"&lt;%= page.url %&gt;\"&gt;&lt;%= page.title %&gt;&lt;/a&gt;\n            &lt;/li&gt;\n          &lt;% }); %&gt;\n        &lt;/ul&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/nav&gt;\n  &lt;!-- Main Content --&gt;\n  &lt;main class=\"container mt-5\"&gt;\n    &lt;h1&gt;&lt;%= heading %&gt;&lt;/h1&gt;\n    &lt;p&gt;&lt;%= text %&gt;&lt;/p&gt;\n    &lt;%- body %&gt; &lt;!-- View content will be injected here --&gt;\n  &lt;/main&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n```\n\n#### Step 4: Create EJS Templates for Each Page\n\nEach page in the `pages.json` file needs a corresponding EJS template. I started out with a very basic `page'
        />
        <!-- YouTube video Open Graph tags-->
        <!-- Additional Open Graph overrides (for backward compatibility)-->
        <!-- Twitter Card Meta Tags-->
        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:site" content="@markhazleton" />
        <meta name="twitter:creator" content="@markhazleton" />
        <meta name="twitter:title" content="JS-Dev-Env Troubleshooting" />
        <meta name="twitter:description" content="Discover how to troubleshoot and rebuild a JavaScript development environment using Node.js, Nodemon, ESLint, Express, and Bootstrap effectively." />
        <meta name="twitter:image" content="https://markhazleton.com/assets/img/ArgostoliGreeceBeach.jpg" />
        <meta name="twitter:image:alt" content="Troubleshooting and Rebuilding My JS-Dev-Env Project - Mark Hazleton" />
        <!-- YouTube video Twitter Card tags-->
        <!-- Additional Twitter Card overrides (for backward compatibility)-->
        <!-- Performance optimization - No external CDN dependencies-->
        <!-- Favicon and app icons-->
        <link rel="shortcut icon" href="/assets/img/favicon.ico" />
        <link rel="icon" type="image/x-icon" href="/assets/img/favicon.ico" />
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
        <link rel="manifest" href="/site.webmanifest" />
        <!-- RSS Feeds - Articles and Projects-->
        <link rel="alternate" type="application/rss+xml" title="Mark Hazleton Articles" href="/rss.xml" />
        <link rel="alternate" type="application/rss+xml" title="Mark Hazleton Projects" href="/projects-rss.xml" />
        <!-- Modern Layout Styles (includes Bootstrap 5, Bootstrap Icons, Font Awesome, PrismJS)-->
        <link href="/css/modern-styles.css?v=9.0.33" rel="stylesheet" />
        <!-- Enhanced JSON-LD Structured Data for SEO-->
        <script type="application/ld+json">
            {
                "@context": "https://schema.org",
                "@type": "Person",
                "name": "Mark Hazleton",
                "givenName": "Mark",
                "familyName": "Hazleton",
                "jobTitle": "Solutions Architect",
                "description": "Solutions Architect passionate for solutions which make technology work for business",
                "url": "https://markhazleton.com",
                "image": {
                    "@type": "ImageObject",
                    "url": "https://markhazleton.com/assets/img/MarkHazleton.jpg",
                    "width": 400,
                    "height": 400
                },
                "sameAs": ["https://www.linkedin.com/in/markhazleton/", "https://github.com/markhazleton/", "https://twitter.com/markhazleton/", "https://www.youtube.com/@MarkHazleton"],
                "knowsAbout": [".NET Framework", "ASP.NET Core", "Microsoft Azure", "Project Management", "Web Development", "Solution Architecture", "Software Engineering", "Cloud Computing", "Artificial Intelligence", "Machine Learning"],
                "alumniOf": {
                    "@type": "Organization",
                    "name": "University of North Texas"
                },
                "address": {
                    "@type": "PostalAddress",
                    "addressLocality": "Wichita",
                    "addressRegion": "KS",
                    "addressCountry": "US"
                },
                "mainEntityOfPage": {
                    "@type": "WebPage",
                    "@id": "https://markhazleton.com/"
                }
            }
        </script>
        <script type="application/ld+json">
            {
                "@context": "https://schema.org",
                "@type": "BlogPosting",
                "headline": "Troubleshooting JS-Dev-Env Project  ",
                "image": "https://markhazleton.com/assets/img/ArgostoliGreeceBeach.jpg",
                "author": {
                    "@type": "Person",
                    "name": "Mark Hazleton"
                },
                "publisher": {
                    "@type": "Organization",
                    "name": "Mark Hazleton",
                    "logo": {
                        "@type": "ImageObject",
                        "url": "https://markhazleton.com/assets/img/MarkHazleton.jpg"
                    }
                },
                "datePublished": "2024-10-02",
                "dateModified": "2024-05-10",
                "description": "Discover how to troubleshoot and rebuild a JavaScript development environment using Node.js, Nodemon, ESLint, Express, and Bootstrap effectively.",
                "mainEntityOfPage": {
                    "@type": "WebPage",
                    "@id": "https://markhazleton.com/articles/troubleshooting-and-rebuilding-my-js-dev-env-project.html"
                }
            }
        </script>
        <script type="application/ld+json">
            {
                "@context": "https://schema.org",
                "@type": "BreadcrumbList",
                "itemListElement": [
                    {
                        "@type": "ListItem",
                        "position": 1,
                        "name": "Home",
                        "item": "https://markhazleton.com/"
                    },
                    {
                        "@type": "ListItem",
                        "position": 2,
                        "name": "Articles",
                        "item": "https://markhazleton.com/articles.html"
                    },
                    {
                        "@type": "ListItem",
                        "position": 3,
                        "name": "Troubleshooting JS-Dev-Env Project  ",
                        "item": "https://markhazleton.com/articles/troubleshooting-and-rebuilding-my-js-dev-env-project.html"
                    }
                ]
            }
        </script>
        <!-- Additional structured data for specific pages-->
        <!-- Additional page-specific CSS-->
        <!-- Include LinkedIn sharing mixins-->
        <!-- Global site tag (gtag.js) - Google Analytics-->
        <script src="https://www.googletagmanager.com/gtag/js?id=G-L8GVZNDH0B" async></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag('js', new Date());
            gtag('config', 'G-L8GVZNDH0B');
        </script>
    </head>
    <body>
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" role="navigation" aria-label="Main navigation">
            <div class="container-fluid">
                <a class="navbar-brand" href="/#" aria-label="Mark Hazleton homepage">Mark Hazleton</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item"><a class="nav-link active" href="/#about" aria-current="page">About Mark</a></li>
                        <li class="nav-item"><a class="nav-link" href="/projects.html">Projects</a></li>
                        <li class="nav-item"><a class="nav-link" href="/articles.html">Articles</a></li>
                    </ul>
                    <!-- Search Box - Inside collapsible navbar-->
                    <form class="d-flex me-3 my-2 my-lg-0" onsubmit="return searchArticles(event);">
                        <div class="input-group search-box">
                            <input class="form-control" id="headerSearchInput" type="search" placeholder="Search articles..." aria-label="Search articles" autocomplete="off" />
                            <button class="btn btn-outline-light" type="submit" aria-label="Search"><i class="bi bi-search"></i></button>
                        </div>
                    </form>
                    <!-- Social Icons - Inside collapsible navbar-->
                    <div class="d-flex social-icons">
                        <a href="https://www.linkedin.com/in/markhazleton/" target="_blank" rel="noopener noreferrer" title="LinkedIn"><i class="bi bi-linkedin"></i></a>
                        <a href="https://github.com/markhazleton/" target="_blank" rel="noopener noreferrer" title="GitHub"><i class="bi bi-github"></i></a>
                        <a href="https://www.youtube.com/@MarkHazleton" target="_blank" rel="noopener noreferrer" title="YouTube"><i class="bi bi-youtube"></i></a>
                        <a href="/rss.xml" target="_blank" rel="noopener noreferrer" title="Articles RSS Feed"><i class="bi bi-rss"></i></a>
                        <a href="/projects-rss.xml" target="_blank" rel="noopener noreferrer" title="Projects RSS Feed"><i class="bi bi-rss text-warning"></i></a>
                    </div>
                </div>
            </div>
        </nav>
        <br />
        <!-- Hero Section-->
        <section class="bg-gradient-primary py-5">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-10 mx-auto text-center">
                        <h1 class="display-4 fw-bold mb-3">
                            <i class="bi bi-cloud me-3"></i>
                            Troubleshooting JS-Dev-Env Project
                        </h1>
                        <h2 class="mb-4">A story of challenges, breaking changes, and rebuilding from scratch.</h2>
                    </div>
                </div>
            </div>
        </section>
        <!-- Main Article Content-->
        <article id="main-article">
            <div class="container">
                <div class="row">
                    <p class="fw-bold text-primary text-center bg-primary text-white"><a class="fw-bold text-primary text-center bg-primary text-white" href="https://github.com/markhazleton/js-dev-env" target="_blank" rel="noopener noreferrer" title="The full source code for JS-DEV-ENV is available on GitHub">The full source code for JS-Dev-Env is available on GitHub</a></p>
                    <p>When I first set out to build a development environment for my JavaScript project, I envisioned a smooth, streamlined setup. I wanted a workspace where I could write modern JavaScript, manage dependencies effortlessly, lint my code, and run a local server with instant updates.</p>
                    <p>However, what I didn’t account for was the series of breaking changes in the core packages that made my initial environment incompatible with the newer versions of these tools.</p>
                    <dl>
                        <dt>Facing the Initial Issues and Breaking Changes</dt>
                        <dd>
                            The first sign of trouble was when I tried to upgrade my core packages—Node.js, Nodemon, and ESLint. Each package had introduced breaking changes that resulted in errors, version conflicts, and even the inability to run the project. The breaking changes in ESLint were the most frustrating. Several rules were deprecated, and new rule configurations required major changes to the `.eslintrc` file. Additionally, the plugin `eslint-plugin-import` began requiring newer versions of ESLint that weren’t backward compatible with my original configuration.
                            <pre class="language-base"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> eslint@latest eslint-plugin-import@latest
</code></pre>
                            Nodemon also underwent significant updates. The move to Nodemon 3.x came with breaking changes in how the watcher worked and how it interacted with my build scripts. The config settings I was using to handle auto-reloading became obsolete, causing the server to crash when certain files changed.
                            <pre class="language-JavaScript"><code class="language-JavaScript"><span class="token string-property property">"dev"</span><span class="token operator">:</span> <span class="token string">"nodemon --watch src --exec node server.js"</span>
</code></pre>
                            These breaking changes led to a cascade of dependency issues, where some packages required older versions of Node.js, while others demanded the latest version. This mismatch made it nearly impossible to have a stable, functioning environment without sacrificing modern features.
                        </dd>
                        <dt>Code Changes to Support New Versions</dt>
                        <dd>
                            To resolve these issues, I had to update several parts of my codebase. First, I upgraded the project dependencies to the latest versions and updated the ESLint rules and configuration accordingly. For example, ESLint’s newer rules required specific configuration changes. The deprecation of `no-use-before-define` for functions required me to manually rewrite functions or disable the rule in the config file.
                            <pre class="language-JavaScript"><code class="language-JavaScript"><span class="token string-property property">"rules"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">"no-use-before-define"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"error"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string-property property">"functions"</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
                            I also had to refactor my scripts to ensure compatibility with Nodemon’s changes. The way the file watcher worked had changed, so I modified my script in `package.json` to explicitly specify which directories to watch.
                            <pre class="language-JavaScript"><code class="language-JavaScript"><span class="token string-property property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">"start"</span><span class="token operator">:</span> <span class="token string">"node server.js"</span><span class="token punctuation">,</span>
  <span class="token string-property property">"dev"</span><span class="token operator">:</span> <span class="token string">"nodemon --watch 'src/**/*.js' --exec 'node server.js'"</span>
<span class="token punctuation">}</span>
</code></pre>
                        </dd>
                        <dt>Troubleshooting Dependency Conflicts</dt>
                        <dd>
                            The dependency conflicts were another major issue. Older versions of some libraries, such as Babel or TypeScript, wouldn’t work properly with the newer versions of Node.js or ESLint. I had to experiment with different version combinations to find a setup that worked without too many compatibility issues. The conflicts between Node.js versions and specific package versions required that I settle on using Node.js 16.x, which was a stable release compatible with both ESLint and Nodemon. However, this still meant that I couldn’t use certain cutting-edge features of Node.js 18.x without risking breaking the entire setup.
                            <pre class="language-JavaScript"><code class="language-JavaScript"><span class="token string-property property">"engines"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">"node"</span><span class="token operator">:</span> <span class="token string">">=16.0.0"</span>
<span class="token punctuation">}</span>
</code></pre>
                            To handle these issues, I relied on tools like `nvm` (Node Version Manager) to switch between Node.js versions easily, allowing me to maintain different projects with different Node.js versions without causing issues in my overall environment.
                            <pre class="language-base"><code class="language-bash">nvm use <span class="token number">16</span>
</code></pre>
                        </dd>
                        <dt>The Decision to Start Over</dt>
                        <dd>After countless hours spent troubleshooting, upgrading dependencies, and trying different combinations, I realized that my dev environment was a patchwork of fixes that lacked stability. I made the tough decision to scrap the original environment and start fresh with a minimalist setup that only included the essentials. This decision was key in reducing complexity and avoiding further dependency conflicts. I chose to start with the basics: a simple server, a linter, and a few essential packages. Once that was stable, I could expand incrementally.</dd>
                        <dt>Lessons Learned from Breaking Changes</dt>
                        <dd>The experience of troubleshooting breaking changes taught me valuable lessons about maintaining a development environment: 1. **Stick to LTS Versions**: Always aim for Long-Term Support (LTS) versions of Node.js and other core packages to avoid running into cutting-edge changes that could break backward compatibility. 2. **Understand Your Dependencies**: Before upgrading any package, especially major versions, review the changelogs and release notes to understand what breaking changes have been introduced. 3. **Use Version Locking**: Using `package-lock.json` or `yarn.lock` files can save a lot of trouble by ensuring consistent dependency versions across different environments. 4. **Refactor Incrementally**: When upgrading or fixing breaking changes, it’s better to refactor your codebase step-by-step, rather than trying to overhaul everything at once.</dd>
                    </dl>
                    <h2 class="subheading mb-3">Conclusion: Starting Fresh After Breaking Changes</h2>
                    <p>The breaking changes to Node.js, ESLint, and Nodemon forced me to re-evaluate my initial approach. By starting fresh and focusing on core functionality, I was able to create a more stable and maintainable development environment. This experience reinforced the importance of simplicity and version management in modern development workflows.</p>
                    <h2>Rebuilding My JS-Dev-Env Project</h2>
                    <p>When I first set out to build a development environment for my JavaScript project, I envisioned a smooth, streamlined setup that would support all my needs. I wanted a workspace where I could write modern JavaScript, manage dependencies effortlessly, lint my code, and run a local server with instant updates.</p>
                    <p>But things didn't go as planned. Here is how I built a functional dev environment from scratch.</p>
                    <dl>
                        <dt>Building a Basic Development Environment</dt>
                        <dd>
                            <p>I started fresh, deleteing everthing in my folder expect for .git and starting over. At least I would have a history of before and after.</p>
                            <pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">cd</span> js-dev-env
<span class="token function">npm</span> init <span class="token parameter variable">-y</span>
</code></pre>
                            I installed core packages like Express, Nodemon, EJS, and Bootstrap.
                            <pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> express nodemon ejs bootstrap
<span class="token function">npm</span> <span class="token function">install</span> --save-dev nodemon
</code></pre>
                            I then added basic scripts to package.json.
                            <pre class="language-yml"><code class="language-yml"><span class="token key atrule">"scripts"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
  <span class="token key atrule">"start"</span><span class="token punctuation">:</span> <span class="token string">"node server.js"</span><span class="token punctuation">,</span>
  <span class="token key atrule">"dev"</span><span class="token punctuation">:</span> <span class="token string">"nodemon server.js"</span>
<span class="token punctuation">}</span>
</code></pre>
                        </dd>
                        <dt>Building the Basic Site</dt>
                        <dd>
                            I set up a simple Express server to serve content and EJS templates.
                            <pre class="language-JavaScript"><code class="language-JavaScript"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token string">'view engine'</span><span class="token punctuation">,</span> <span class="token string">'ejs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token method function property-access">static</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'public'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  res<span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span><span class="token string">'index'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Home'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token method function property-access">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token string">'Server running on http://localhost:3000'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
                        </dd>
                        <dt>Running the Site</dt>
                        <dd>
                            With everything set up, I used Nodemon to run the development server.
                            <pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run dev
</code></pre>
                        </dd>
                    </dl>
                    <h2 class="subheading mb-3">Conclusion: Lessons Learned</h2>
                    <p>In the end, starting over helped me streamline my development environment. By going back to basics, I was able to:</p>
                    <dl>
                        <dt>Use Express</dt>
                        <dd>Serve static content and manage routes.</dd>
                        <dt>Integrate Nodemon</dt>
                        <dd>Automatically restart the server on changes during development.</dd>
                        <dt>Employ EJS</dt>
                        <dd>Easily manage templates and layouts.</dd>
                        <dt>Utilize Bootstrap</dt>
                        <dd>Simplify styling without writing custom CSS.</dd>
                    </dl>
                    <p>This approach not only simplified my development process but taught me the value of focusing on core functionality first.</p>
                    <h2>Dynamic Content and Navigation</h2>
                    <h3 class="subheading mb-3">Simplify content management and navigation using a JSON file</h3>
                    <p>I decided I wanted some dynamic content and navigation in the project. I added a `pages.json` file to dynamically control both the content and navigation of the pages in my JS-Dev-Env project. This approach allows you to manage your site's content and navigation links without hardcoding them, making it much easier to update or add new pages later on.</p>
                    <dl>
                        <dt>Prerequisites</dt>
                        <dd>
                            <p>Before starting, ensure the following is in place:</p>
                            <ul>
                                <li>Node.js installed</li>
                                <li>Express set up to handle routes</li>
                                <li>EJS templating engine</li>
                                <li>Bootstrap for styling</li>
                            </ul>
                        </dd>
                        <dt>Step 1: Create the pages.json File</dt>
                        <dd>
                            The `pages.json` file will hold details for all your site's pages, such as the title, URL, template, and content. This will allow you to dynamically generate both pages and navigation. First, create a `data` folder in the root of your project, and inside it, create a `pages.json` file. Here's an example of how to structure your JSON file:
                            <pre class="language-JavaScript"><code class="language-JavaScript"><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"Home"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"url"</span><span class="token operator">:</span> <span class="token string">"/"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"template"</span><span class="token operator">:</span> <span class="token string">"page"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"content"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"heading"</span><span class="token operator">:</span> <span class="token string">"Welcome to My Bootstrap 5 Website"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"text"</span><span class="token operator">:</span> <span class="token string">"This is the home page."</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"About"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"url"</span><span class="token operator">:</span> <span class="token string">"/about"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"template"</span><span class="token operator">:</span> <span class="token string">"page"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"content"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"heading"</span><span class="token operator">:</span> <span class="token string">"About Us"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"text"</span><span class="token operator">:</span> <span class="token string">"This is the about page. Learn more about us here."</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token string-property property">"title"</span><span class="token operator">:</span> <span class="token string">"Contact"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"url"</span><span class="token operator">:</span> <span class="token string">"/contact"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"template"</span><span class="token operator">:</span> <span class="token string">"page"</span><span class="token punctuation">,</span>
    <span class="token string-property property">"content"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">"heading"</span><span class="token operator">:</span> <span class="token string">"Contact Us"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"text"</span><span class="token operator">:</span> <span class="token string">"Get in touch with us using the form below."</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre>
                        </dd>
                        <dt>Step 2: Modify index.js to Use pages.json</dt>
                        <dd>
                            Now, update your `index.js` file to read the `pages.json` data and generate routes dynamically. This step also involves extracting the top-level pages for the navigation bar and passing them to EJS templates.
                            <pre class="language-JavaScript"><code class="language-JavaScript"><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'express'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'path'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'fs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

app<span class="token punctuation">.</span><span class="token method function property-access">set</span><span class="token punctuation">(</span><span class="token string">'view engine'</span><span class="token punctuation">,</span> <span class="token string">'ejs'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token method function property-access">use</span><span class="token punctuation">(</span>express<span class="token punctuation">.</span><span class="token method function property-access">static</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'public'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Read the pages.json file</span>
<span class="token keyword">const</span> pagesData <span class="token operator">=</span> <span class="token known-class-name class-name">JSON</span><span class="token punctuation">.</span><span class="token method function property-access">parse</span><span class="token punctuation">(</span>fs<span class="token punctuation">.</span><span class="token method function property-access">readFileSync</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token method function property-access">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'data'</span><span class="token punctuation">,</span> <span class="token string">'pages.json'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'utf-8'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Filter top-level pages for navigation</span>
<span class="token keyword">const</span> topLevelPages <span class="token operator">=</span> pagesData<span class="token punctuation">.</span><span class="token method function property-access">filter</span><span class="token punctuation">(</span><span class="token parameter">page</span> <span class="token arrow operator">=></span> <span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token property-access">url</span><span class="token punctuation">.</span><span class="token method function property-access">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex"><span class="token escape">\/</span></span><span class="token regex-delimiter">/</span><span class="token regex-flags">g</span></span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token property-access">length</span> <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Generate dynamic routes from pages.json</span>
pagesData<span class="token punctuation">.</span><span class="token method function property-access">forEach</span><span class="token punctuation">(</span><span class="token parameter">page</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  app<span class="token punctuation">.</span><span class="token method function property-access">get</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token property-access">url</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
    res<span class="token punctuation">.</span><span class="token method function property-access">render</span><span class="token punctuation">(</span>page<span class="token punctuation">.</span><span class="token property-access">template</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">title</span><span class="token operator">:</span> page<span class="token punctuation">.</span><span class="token property-access">title</span><span class="token punctuation">,</span>
      <span class="token literal-property property">heading</span><span class="token operator">:</span> page<span class="token punctuation">.</span><span class="token property-access">content</span><span class="token punctuation">.</span><span class="token property-access">heading</span><span class="token punctuation">,</span>
      <span class="token literal-property property">text</span><span class="token operator">:</span> page<span class="token punctuation">.</span><span class="token property-access">content</span><span class="token punctuation">.</span><span class="token property-access">text</span><span class="token punctuation">,</span>
      <span class="token literal-property property">pages</span><span class="token operator">:</span> topLevelPages  <span class="token comment">// Pass navigation items</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Start the server</span>
<span class="token keyword">const</span> port <span class="token operator">=</span> process<span class="token punctuation">.</span><span class="token property-access">env</span><span class="token punctuation">.</span><span class="token constant">PORT</span> <span class="token operator">||</span> <span class="token number">3000</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token method function property-access">listen</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
  <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Server running at http://localhost:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>port<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
                        </dd>
                        <dt>Step 3: Update the Layout to Include Dynamic Navigation</dt>
                        <dd>
                            Next, update the `layout.ejs` file to dynamically render the navigation bar based on the `pages.json` data. This avoids hardcoding navigation links in every template and makes it easier to manage as new pages are added.
                            <pre class="language-html"><code class="language-html"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>&lt;%= title %><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/css/modern-styles.css<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- Dynamic Navigation Bar --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>nav</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbar navbar-expand-lg navbar-light bg-light<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container-fluid<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbar-brand<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>My Site<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbar-toggler<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>button<span class="token punctuation">"</span></span> <span class="token attr-name">data-bs-toggle</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>collapse<span class="token punctuation">"</span></span> <span class="token attr-name">data-bs-target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#navbarNav<span class="token punctuation">"</span></span> <span class="token attr-name">aria-controls</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbarNav<span class="token punctuation">"</span></span> <span class="token attr-name">aria-expanded</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbar-toggler-icon<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>collapse navbar-collapse<span class="token punctuation">"</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbarNav<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>navbar-nav ms-auto<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
          &lt;% pages.forEach(function(page) { %>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-item<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>nav-link<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>&lt;%= page.url %><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>&lt;%= page.title %><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
          &lt;% }); %>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>nav</span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- Main Content --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>container mt-5<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>&lt;%= heading %><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span>&lt;%= text %><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
    &lt;%- body %> <span class="token comment">&lt;!-- View content will be injected here --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
</code></pre>
                        </dd>
                        <dt>Step 4: Create EJS Templates for Each Page</dt>
                        <dd>
                            <p>Each page in the `pages.json` file needs a corresponding EJS template. I started out with a very basic `page.ejs` template that displays the heading and text content for each page. For the time being it is just an emply page with the heading and text content added in the layout. Over time I can create different templates for different types of pages.</p>
                            <pre class="language-html"><code class="language-html"><span class="token comment">&lt;!--
  Page Template
--></span>
</code></pre>
                        </dd>
                        <dt>Step 5: Run the Project</dt>
                        <dd>
                            Now that everything is set up, you can start your development server using Nodemon:
                            <pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run dev
</code></pre>
                            Visit your site in the browser to see the dynamically generated content and navigation:
                            <pre class="language-bash"><code class="language-bash">http://localhost:3000/
http://localhost:3000/about
http://localhost:3000/contact
</code></pre>
                        </dd>
                    </dl>
                    <h2 class="subheading mb-3">Conclusion: Dynamically Controlled Content and Navigation</h2>
                    <p>By adding a `pages.json` file and updating the server logic, we’ve effectively created a basic content management system that controls both the navigation and the page content dynamically. This setup makes it easy to maintain and expand the site by simply modifying or adding entries in `pages.json`. You no longer need to hardcode new pages or navigation links—everything is driven by data, making it simple to update in the future.</p>
                    <h2 class="subheading mb-3">Add SCSS to JS development environment</h2>
                    <p>Today, I made significant improvements to my JS Dev Env project by addressing key issues and optimizing the development process.</p>
                    <dl>
                        <dt>Integrating SCSS with Bootstrap</dt>
                        <dd>
                            <p>Migrating to SCSS instead of hosted CSS involved several key steps:</p>
                            <ul>
                                <li>
                                    Adding SCSS to the project as a development dependency.
                                    <pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> sass --save-dev
</code></pre>
                                </li>
                                <li>
                                    Configuring a main SCSS file to include Bootstrap SCSS, custom styles, and Bootstrap Icons.
                                    <pre class="language-scss"><code class="language-scss"><span class="token keyword">@import</span> <span class="token string">'node_modules/bootstrap/scss/bootstrap'</span><span class="token punctuation">;</span>
<span class="token keyword">@import</span> <span class="token string">'styles.scss'</span><span class="token punctuation">;</span>
<span class="token keyword">@import</span> <span class="token string">'bootstrap-icons/font/bootstrap-icons'</span><span class="token punctuation">;</span>
</code></pre>
                                </li>
                                <li>
                                    Using the load-path option with Sass to ensure proper import paths.
                                    <pre class="language-scss"><code class="language-scss">sass --watch src/<span class="token property">scss</span><span class="token punctuation">:</span>public/css --load-path=node_modules/bootstrap/scss
</code></pre>
                                </li>
                            </ul>
                        </dd>
                        <dt>Handling Bootstrap Icons Locally</dt>
                        <dd>
                            <p>Serving Bootstrap Icons locally was a critical improvement:</p>
                            <ul>
                                <li>
                                    Adding a script in
                                    <code class="language-json">package.json</code>
                                    :
                                    <pre class="language-JavaScript"><code class="language-JavaScript"><span class="token string-property property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">"copy-icons"</span><span class="token operator">:</span> <span class="token string">"xcopy ./node_modules/bootstrap-icons/font/* ./public/fonts/bootstrap-icons /s /e"</span>
<span class="token punctuation">}</span></code></pre>
                                </li>
                                <li>
                                    Verifying the icons under
                                    <code class="language-bash">public/fonts/bootstrap-icons</code>
                                    and updating
                                    <code class="language-html">layout.ejs</code>
                                    to reference the local file.
                                </li>
                            </ul>
                        </dd>
                        <dt>Updating the Development Workflow</dt>
                        <dd>
                            <p>Enhancing the workflow involved creating a consolidated script:</p>
                            <ul>
                                <li>
                                    Installing
                                    <code class="language-bash">
                                        <span class="token function">npm</span>
                                        <span class="token function">install</span>
                                        npm-run-all --save-dev
                                    </code>
                                </li>
                                <li>
                                    Adding a
                                    <code class="language-json">
                                        start
                                        <span class="token operator">:</span>
                                        dev
                                    </code>
                                    script in
                                    <code class="language-json">package.json</code>
                                    :
                                    <pre class="language-json"><code class="language-json"><span class="token property">"scripts"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token property">"start:dev"</span><span class="token operator">:</span> <span class="token string">"npm-run-all copy-icons build-css watch-css nodemon"</span>
<span class="token punctuation">}</span></code></pre>
                                </li>
                                <li>Testing to ensure changes were handled seamlessly.</li>
                            </ul>
                        </dd>
                        <dt>Dynamic Routing with Pages.json</dt>
                        <dd>
                            <p>Improving routing with code.language-json | pages.json | added flexibility:</p>
                            <ul>
                                <li>Allowed icons in content fields like headings, text, and body.</li>
                                <li>Simplified adding new pages with consistent navigation.</li>
                            </ul>
                        </dd>
                        <dt>Lessons Learned</dt>
                        <dd>
                            <p>Key takeaways from this update:</p>
                            <ul>
                                <li>
                                    Migrating from Sass
                                    <code class="language-css">@import</code>
                                    to
                                    <code class="language-css">@use</code>
                                    .
                                </li>
                                <li>Properly serving static assets with correct MIME types.</li>
                                <li>Balancing automation with simplicity in workflows.</li>
                            </ul>
                        </dd>
                        <dt>Conclusion</dt>
                        <dd><p>These updates have made my JS Dev Env project more robust, modular, and maintainable. I hope these insights are helpful as you optimize your own projects. Check back for more updates!</p></dd>
                    </dl>
                </div>
            </div>
        </article>
        <!-- Auto-include floating LinkedIn share for article pages-->
        <!-- Check if first parameter is an article object-->
        <div class="floating-linkedin-share position-fixed" style="bottom: 20px; right: 20px; z-index: 1000">
            <a class="btn btn-linkedin btn-lg rounded-circle shadow" href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fmarkhazleton.com%2Farticles%2Ftroubleshooting-and-rebuilding-my-js-dev-env-project.html&amp;title=Troubleshooting%20and%20Rebuilding%20My%20JS-Dev-Env%20Project&amp;summary=Explore%20how%20to%20troubleshoot%20and%20rebuild%20a%20JavaScript%20development%20environment%20using%20Node.js%2C%20Nodemon%2C%20ESLint%2C%20Express%2C%20and%20Bootstrap.&amp;source=Mark%20Hazleton" target="_blank" rel="noopener noreferrer" title="Share on LinkedIn" onclick="return openLinkedInShare(this.href);"><i class="bi bi-linkedin"></i></a>
        </div>
        <!-- Footer-->
        <footer>
            <div class="container">
                <div class="row">
                    <div class="col-md-6 mb-4">
                        <h5 class="mb-3">Mark Hazleton</h5>
                        <p class="text-light">Solutions Architect passionate for solutions which make technology work for business. Lifelong learner, not sidetracked by sizzle.</p>
                        <div class="social-icons">
                            <a href="https://www.linkedin.com/in/markhazleton/" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn"><i class="bi bi-linkedin"></i></a>
                            <a href="https://github.com/markhazleton/" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><i class="bi bi-github"></i></a>
                            <a href="https://www.youtube.com/@MarkHazleton" target="_blank" rel="noopener noreferrer" aria-label="YouTube"><i class="bi bi-youtube"></i></a>
                            <a href="/rss.xml" target="_blank" rel="noopener noreferrer" aria-label="Articles RSS Feed"><i class="bi bi-rss"></i></a>
                            <a href="/projects-rss.xml" target="_blank" rel="noopener noreferrer" aria-label="Projects RSS Feed"><i class="bi bi-rss"></i></a>
                        </div>
                    </div>
                    <div class="col-md-3 mb-4">
                        <h6 class="mb-3">Quick Links</h6>
                        <ul class="list-unstyled footer-links">
                            <li><a href="/#about">About</a></li>
                            <li><a href="/#experience">Experience</a></li>
                            <li><a href="/projects.html">Projects</a></li>
                            <li><a href="/articles.html">Articles</a></li>
                        </ul>
                    </div>
                    <div class="col-md-3 mb-4">
                        <h6 class="mb-3">Resources</h6>
                        <ul class="list-unstyled footer-links">
                            <li><a href="https://webspark.markhazleton.com">WebSpark</a></li>
                            <li><a href="https://www.linkedin.com/company/283420/">Project Mechanics</a></li>
                            <li><a href="/rss.xml">Articles RSS Feed</a></li>
                            <li><a href="/projects-rss.xml">Projects RSS Feed</a></li>
                            <li><a href="/sitemap.xml">Sitemap</a></li>
                        </ul>
                    </div>
                </div>
                <hr class="my-4" />
                <div class="row">
                    <div class="col-12 text-center">
                        <p class="mb-0">&copy; 2025 Mark Hazleton. All rights reserved.</p>
                        <p class="small text-muted mt-2 mb-0">v9.0.33 • Built: 12/16/2025</p>
                    </div>
                </div>
            </div>
        </footer>
        <script src="/js/scripts.js?v=9.0.33"></script>
    </body>
</html>

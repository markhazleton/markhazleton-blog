<!-- Modern Layout with Dynamic SEO - Centralizes all SEO meta tag generation-->
<!-- Uses articles.json data to automatically populate title, description, keywords-->
<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Essential Meta Tags-->
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="color-scheme" content="light dark" />
        <!-- Theme color for supported browsers (Chrome, Safari, Edge)-->
        <meta name="theme-color" content="#2c3e50" media="(prefers-color-scheme: light)" />
        <meta name="theme-color" content="#34495e" media="(prefers-color-scheme: dark)" />
        <!-- Dynamic SEO Meta Tags from articles.json-->
        <title>Canonical URL Troubleshooting Guide</title>
        <meta name="description" content="Discover how to manage canonical URLs in static web apps with Azure and Cloudflare. Learn strategies to enhance SEO and prevent duplicate content issues." />
        <meta name="keywords" content="canonical URLs, static web apps, SEO optimization, Azure, Cloudflare, Mark Hazleton" />
        <meta name="author" content="Mark Hazleton" />
        <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
        <!-- Page-specific metadata block (optional overrides)-->
        <!-- Canonical URL-->
        <link rel="canonical" href="https://markhazleton.com/articles/canonical-url-troubleshooting-for-static-web-apps.html" />
        <!-- Default canonical override block (for backward compatibility)-->
        <!-- Open Graph Meta Tags - Optimized for LinkedIn Sharing-->
        <meta property="og:title" content="Canonical URL Troubleshooting for Static Web Apps" />
        <meta property="og:description" content="Discover how to manage canonical URLs in static web apps with Azure and Cloudflare. Learn strategies to enhance SEO and prevent duplicate content issues." />
        <meta property="og:type" content="article" />
        <meta property="og:url" content="https://markhazleton.com/articles/canonical-url-troubleshooting-for-static-web-apps.html" />
        <meta property="og:image" content="https://markhazleton.com/assets/img/ArgostoliGreeceBeach.jpg" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="630" />
        <meta property="og:image:alt" content="Canonical URL Troubleshooting for Static Web Apps - Mark Hazleton" />
        <meta property="og:site_name" content="Mark Hazleton" />
        <meta property="og:locale" content="en_US" />
        <!-- LinkedIn-specific optimizations-->
        <meta property="article:author" content="Mark Hazleton" />
        <meta property="article:published_time" content="2024-10-10" />
        <meta property="article:tag" content="Mark Hazleton" />
        <meta property="article:tag" content="canonical URLs" />
        <meta property="article:tag" content="static web apps" />
        <meta property="article:tag" content="SEO" />
        <meta property="article:tag" content="Azure" />
        <meta property="article:tag" content="Cloudflare" />
        <meta property="article:tag" content="URL management" />
        <!-- YouTube video Open Graph tags-->
        <!-- Additional Open Graph overrides (for backward compatibility)-->
        <!-- Twitter Card Meta Tags-->
        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:site" content="@markhazleton" />
        <meta name="twitter:creator" content="@markhazleton" />
        <meta name="twitter:title" content="Canonical URL Guide" />
        <meta name="twitter:description" content="Discover how to manage canonical URLs in static web apps with Azure and Cloudflare. Learn strategies to enhance SEO and prevent duplicate content issues." />
        <meta name="twitter:image" content="https://markhazleton.com/assets/img/ArgostoliGreeceBeach.jpg" />
        <meta name="twitter:image:alt" content="Canonical URL Troubleshooting for Static Web Apps - Mark Hazleton" />
        <!-- YouTube video Twitter Card tags-->
        <!-- Additional Twitter Card overrides (for backward compatibility)-->
        <!-- Performance optimization - No external CDN dependencies-->
        <!-- Favicon and app icons-->
        <link rel="shortcut icon" href="/assets/img/favicon.ico" />
        <link rel="icon" type="image/x-icon" href="/assets/img/favicon.ico" />
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
        <link rel="manifest" href="/site.webmanifest" />
        <!-- Modern Layout Styles (includes Bootstrap 5, Bootstrap Icons, Font Awesome, PrismJS)-->
        <link href="/css/modern-styles.css" rel="stylesheet" />
        <!-- Enhanced JSON-LD Structured Data for SEO-->
        <script type="application/ld+json">
            {
                "@context": "https://schema.org",
                "@type": "Person",
                "name": "Mark Hazleton",
                "givenName": "Mark",
                "familyName": "Hazleton",
                "jobTitle": "Solutions Architect",
                "description": "Solutions Architect passionate for solutions which make technology work for business",
                "url": "https://markhazleton.com",
                "image": {
                    "@type": "ImageObject",
                    "url": "https://markhazleton.com/assets/img/MarkHazleton.jpg",
                    "width": 400,
                    "height": 400
                },
                "sameAs": ["https://www.linkedin.com/in/markhazleton/", "https://github.com/markhazleton/", "https://twitter.com/markhazleton/", "https://www.youtube.com/@MarkHazleton"],
                "knowsAbout": [".NET Framework", "ASP.NET Core", "Microsoft Azure", "Project Management", "Web Development", "Solution Architecture", "Software Engineering", "Cloud Computing", "Artificial Intelligence", "Machine Learning"],
                "alumniOf": {
                    "@type": "Organization",
                    "name": "University of North Texas"
                },
                "address": {
                    "@type": "PostalAddress",
                    "addressLocality": "Wichita",
                    "addressRegion": "KS",
                    "addressCountry": "US"
                },
                "mainEntityOfPage": {
                    "@type": "WebPage",
                    "@id": "https://markhazleton.com/"
                }
            }
        </script>
        <!-- Additional structured data for specific pages-->
        <!-- Additional page-specific CSS-->
        <!-- Include LinkedIn sharing mixins-->
        <!-- Global site tag (gtag.js) - Google Analytics-->
        <script src="https://www.googletagmanager.com/gtag/js?id=G-L8GVZNDH0B" async></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag('js', new Date());
            gtag('config', 'G-L8GVZNDH0B');
        </script>
    </head>
    <body>
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" role="navigation" aria-label="Main navigation">
            <div class="container-fluid">
                <a class="navbar-brand" href="/#" aria-label="Mark Hazleton homepage">Mark Hazleton</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item"><a class="nav-link active" href="/#about" aria-current="page">About Mark</a></li>
                        <li class="nav-item"><a class="nav-link" href="/#experience">Experience & Credentials</a></li>
                        <li class="nav-item"><a class="nav-link" href="/#projects">Solutions & Tools</a></li>
                        <li class="nav-item"><a class="nav-link" href="/articles.html">Insights & Articles</a></li>
                        <li class="nav-item"><a class="nav-link" href="/#contact">Contact</a></li>
                    </ul>
                    <!-- Search Box - Inside collapsible navbar-->
                    <form class="d-flex me-3 my-2 my-lg-0" onsubmit="return searchArticles(event)">
                        <div class="input-group search-box">
                            <input class="form-control" id="headerSearchInput" type="search" placeholder="Search articles..." aria-label="Search articles" autocomplete="off" />
                            <button class="btn btn-outline-light" type="submit" aria-label="Search"><i class="fas fa-search"></i></button>
                        </div>
                    </form>
                    <!-- Social Icons - Inside collapsible navbar-->
                    <div class="d-flex social-icons">
                        <a href="https://www.linkedin.com/in/markhazleton/" target="_blank" rel="noopener noreferrer" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://github.com/markhazleton/" target="_blank" rel="noopener noreferrer" title="GitHub"><i class="fab fa-github"></i></a>
                        <a href="https://www.youtube.com/@MarkHazleton" target="_blank" rel="noopener noreferrer" title="YouTube"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
            </div>
        </nav>
        <br />
        <section class="bg-light py-5" id="hero">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-8">
                        <header>
                            <h1 class="display-4 fw-bold text-primary">
                                <i class="bi bi-link-45deg me-3"></i>
                                Canonical URL Troubleshooting
                            </h1>
                            <h2 class="h4 text-muted mb-4">Managing Canonical URLs in Static Web Apps for SEO Optimization</h2>
                        </header>
                        <div class="lead mb-4">Learn how to manage canonical URLs for static web apps using Azure and Cloudflare for SEO optimization. Discover practical solutions to prevent duplicate content issues and improve search engine rankings.</div>
                        <div class="d-flex flex-wrap gap-2 mb-4">
                            <div class="badge bg-primary text-white">Canonical URLs</div>
                            <div class="badge bg-secondary text-white">Azure Static Web Apps</div>
                            <div class="badge bg-success text-white">Cloudflare</div>
                            <div class="badge bg-info text-white">SEO</div>
                            <div class="badge bg-warning text-dark">Troubleshooting</div>
                        </div>
                        <div class="alert alert-info border-0 shadow-sm">
                            <div class="d-flex align-items-start">
                                <i class="bi bi-info-circle fs-4 text-info me-3 flex-shrink-0"></i>
                                <div>
                                    <h5 class="alert-heading mb-2">Real-World Experience</h5>
                                    <p class="mb-0">This guide shares practical solutions based on actual implementation challenges with MarkHazleton.com</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-4 text-center">
                        <div class="card border-0 shadow-sm">
                            <div class="card-body">
                                <i class="bi bi-search display-1 text-primary mb-3"></i>
                                <h5 class="card-title">SEO Optimization</h5>
                                <p class="card-text text-muted">Ensure your static web app follows SEO best practices with proper canonical URL management</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <nav class="mb-5" id="table-of-contents" aria-label="Table of Contents">
            <div class="container">
                <div class="card bg-light">
                    <div class="card-header">
                        <h3 class="card-title mb-0 fw-bold">
                            <i class="bi bi-list-ul me-2"></i>
                            Table of Contents
                        </h3>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-6">
                                <ul class="list-group list-group-flush">
                                    <li class="list-group-item"><a class="text-decoration-none" href="#introduction">Introduction</a></li>
                                    <li class="list-group-item"><a class="text-decoration-none" href="#challenges">Challenges in Static Web Apps</a></li>
                                    <li class="list-group-item"><a class="text-decoration-none" href="#solutions-attempted">Solutions I Attempted</a></li>
                                </ul>
                            </div>
                            <div class="col-md-6">
                                <ul class="list-group list-group-flush">
                                    <li class="list-group-item"><a class="text-decoration-none" href="#cloudflare-solution">The Cloudflare Solution</a></li>
                                    <li class="list-group-item"><a class="text-decoration-none" href="#implementation">Implementation Details</a></li>
                                    <li class="list-group-item"><a class="text-decoration-none" href="#conclusion">Conclusion</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </nav>
        <main class="container my-5">
            <dt>Challenges in Static Web Apps</dt>
            <dd>
                <p>Using Azure Static Web Apps, I encountered several issues related to canonical URLs. Specifically:</p>
                <ul>
                    <li>URL variations for the same content, such as `/projectmechanics`, `/projectmechanics/`, and `/projectmechanics/index.html`.</li>
                    <li>Multiple methods to configure canonical URLs led to varying levels of success, complicating SEO optimization.</li>
                    <li>The lack of server-side components in static web apps makes traditional enforcement of URL structures more difficult.</li>
                </ul>
            </dd>
            <dt>What I Tried</dt>
            <dd>
                <p>Adding Canonical Tags</p>
                <p>I added a canonical link in the header of the page to indicate the preferred URL. This helped search engines understand the canonical URL but didn’t resolve the multiple accessible URL variants. While this was a good start, it didn’t fully address the issue, as the same content was reachable through different URLs.</p>
                <pre class="language-JavaScript"><code class="language-JavaScript"><span class="token function">link</span><span class="token punctuation">(</span>rel<span class="token operator">=</span><span class="token string">'canonical'</span><span class="token punctuation">,</span> href<span class="token operator">=</span><span class="token string">'https://markhazleton.com/projectmechanics/'</span><span class="token punctuation">)</span>
</code></pre>
            </dd>
            <dd>
                <p>Using `staticwebapp.config.json` for Redirects</p>
                <p>In Azure Static Web Apps, I set up custom redirects using the `staticwebapp.config.json` file to force non-canonical URLs to redirect to the preferred version. This is managed in my GitHub repository and deployed automatically to Azure Static Web Apps.</p>
                <pre class="language-JavaScript"><code class="language-JavaScript"><span class="token punctuation">{</span>
  <span class="token string-property property">"routes"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"route"</span><span class="token operator">:</span> <span class="token string">"/projectmechanics/index.html"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"redirect"</span><span class="token operator">:</span> <span class="token string">"/projectmechanics/"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"statusCode"</span><span class="token operator">:</span> <span class="token number">301</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token string-property property">"route"</span><span class="token operator">:</span> <span class="token string">"/projectmechanics"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"redirect"</span><span class="token operator">:</span> <span class="token string">"/projectmechanics/"</span><span class="token punctuation">,</span>
      <span class="token string-property property">"statusCode"</span><span class="token operator">:</span> <span class="token number">301</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span></code></pre>
                <p>Unfortunately, this method caused issues with my GitHub build and deploy action. In addtion, it didn't solve the root problem. So rather than spend time troubleshooting the GitHub action, I moved on to other solutions.</p>
            </dd>
            <dt>What Worked: Cloudflare Page Rules</dt>
            <dd>
                <p>I host my DNS for MarkHazleton.com on Cloudflare, so I decided to leverage Cloudflare’s URL redirection capabilities. This was the most effective solution.</p>
                <p>Setting Up Page Rules</p>
                <p>The most effective solution was to configure Cloudflare Page Rules to handle URL redirection. Here’s how I set it up:</p>
                <ul>
                    <li>Redirect `/projectmechanics` and `/projectmechanics/index.html` to `/projectmechanics/`.</li>
                    <li>Enforce a 301 Permanent Redirect so search engines recognize the canonical URL.</li>
                </ul>
                <p>This approach worked well by efficiently handling all variations of the URL. Cloudflare’s flexibility in matching different URL patterns provided a more seamless experience for both users and search engines.</p>
                <p>
                    For more information on setting up Cloudflare Url Forwarding Rules, refer to the
                    <a href="https://developers.cloudflare.com/rules/url-forwarding/" rel="nofollow" target="_blank" title="Cloudflare URL Forwarding Documentation" alt="Cloudflare URL Forwarding Documentation">Cloudflare URL Forwarding documentation.</a>
                </p>
            </dd>
            <dt>Conclusion</dt>
            <dd><p>While adding canonical tags and using Azure Static Web Apps can help with SEO, Cloudflare Page Rules proved to be the most robust solution for handling canonical URLs and mitigating duplicate content issues. This combination ensures a smooth, SEO-friendly static web app without URL conflicts.</p></dd>
        </main>
        <!-- Auto-include floating LinkedIn share for article pages-->
        <!-- Check if first parameter is an article object-->
        <div class="floating-linkedin-share position-fixed" style="bottom: 20px; right: 20px; z-index: 1000">
            <a class="btn btn-linkedin btn-lg rounded-circle shadow" href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fmarkhazleton.com%2Farticles%2Fcanonical-url-troubleshooting-for-static-web-apps.html&amp;title=Canonical%20URL%20Troubleshooting%20for%20Static%20Web%20Apps&amp;summary=Explore%20strategies%20for%20managing%20canonical%20URLs%20in%20static%20web%20apps%20using%20Azure%20and%20Cloudflare%20to%20enhance%20SEO%20performance%20and%20prevent%20duplicate%20content%20issues.&amp;source=Mark%20Hazleton" target="_blank" rel="noopener noreferrer" title="Share on LinkedIn" onclick="return openLinkedInShare(this.href);"><i class="fab fa-linkedin-in"></i></a>
        </div>
        <!-- Footer-->
        <footer>
            <div class="container">
                <div class="row">
                    <div class="col-md-6 mb-4">
                        <h5 class="mb-3">Mark Hazleton</h5>
                        <p class="text-light">Solutions Architect passionate for solutions which make technology work for business. Lifelong learner, not sidetracked by sizzle.</p>
                        <div class="social-icons">
                            <a href="https://www.linkedin.com/in/markhazleton/" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                            <a href="https://github.com/markhazleton/" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><i class="fab fa-github"></i></a>
                            <a href="https://www.youtube.com/@MarkHazleton" target="_blank" rel="noopener noreferrer" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                        </div>
                    </div>
                    <div class="col-md-3 mb-4">
                        <h6 class="mb-3">Quick Links</h6>
                        <ul class="list-unstyled footer-links">
                            <li><a href="/#about">About</a></li>
                            <li><a href="/#experience">Experience</a></li>
                            <li><a href="/#projects">Projects</a></li>
                            <li><a href="/articles.html">Articles</a></li>
                            <li><a href="/#contact">Contact</a></li>
                        </ul>
                    </div>
                    <div class="col-md-3 mb-4">
                        <h6 class="mb-3">Resources</h6>
                        <ul class="list-unstyled footer-links">
                            <li><a href="/projectmechanics/">Project Mechanics</a></li>
                            <li><a href="https://webspark.markhazleton.com">WebSpark</a></li>
                            <li><a href="/rss.xml">RSS Feed</a></li>
                            <li><a href="/sitemap.xml">Sitemap</a></li>
                        </ul>
                    </div>
                </div>
                <hr class="my-4" />
                <div class="row">
                    <div class="col-12 text-center"><p class="mb-0">&copy; 2025 Mark Hazleton. All rights reserved.</p></div>
                </div>
            </div>
        </footer>
        <script src="/js/scripts.js"></script>
    </body>
</html>

<!-- Modern Layout with Dynamic SEO - Centralizes all SEO meta tag generation-->
<!-- Uses articles.json data to automatically populate title, description, keywords-->
<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Essential Meta Tags-->
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta name="color-scheme" content="light dark" />
        <!-- Theme color for supported browsers (Chrome, Safari, Edge)-->
        <meta name="theme-color" content="#2c3e50" media="(prefers-color-scheme: light)" />
        <meta name="theme-color" content="#34495e" media="(prefers-color-scheme: dark)" />
        <!-- Dynamic SEO Meta Tags from articles.json-->
        <title>Mastering Concurrent Processing</title>
        <meta name="description" content="Discover the fundamentals of concurrent processing, its benefits, and how it enhances efficiency in software development. Learn key techniques and best" />
        <meta name="keywords" content="concurrent processing, multithreading, asynchronous programming, parallel processing, software development, Mark Hazleton" />
        <meta name="author" content="Mark Hazleton" />
        <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" />
        <!-- Page-specific metadata block (optional overrides)-->
        <!-- Canonical URL-->
        <link rel="canonical" href="https://markhazleton.com/concurrent-processing.html" />
        <!-- Default canonical override block (for backward compatibility)-->
        <!-- Open Graph Meta Tags - Optimized for LinkedIn Sharing-->
        <meta property="og:title" content="Mastering Concurrent Processing" />
        <meta property="og:description" content="Discover the fundamentals of concurrent processing, its benefits, and how it enhances efficiency in software development. Learn key techniques and best" />
        <meta property="og:type" content="article" />
        <meta property="og:url" content="https://markhazleton.com/concurrent-processing.html" />
        <meta property="og:image" content="https://markhazleton.com/assets/img/ArgostoliGreeceBeach.jpg" />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="630" />
        <meta property="og:image:alt" content="Concurrent Processing - Mark Hazleton" />
        <meta property="og:site_name" content="Mark Hazleton" />
        <meta property="og:locale" content="en_US" />
        <!-- LinkedIn-specific optimizations-->
        <meta property="article:author" content="Mark Hazleton" />
        <meta property="article:published_time" content="2023-08-17" />
        <meta property="article:tag" content="Mark Hazleton" />
        <meta property="article:tag" content="concurrent processing" />
        <meta property="article:tag" content="multithreading" />
        <meta property="article:tag" content="asynchronous programming" />
        <meta property="article:tag" content="parallel processing" />
        <meta property="article:tag" content="software development" />
        <!-- YouTube video Open Graph tags-->
        <!-- Additional Open Graph overrides (for backward compatibility)-->
        <!-- Twitter Card Meta Tags-->
        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:site" content="@markhazleton" />
        <meta name="twitter:creator" content="@markhazleton" />
        <meta name="twitter:title" content="Concurrent Processing Mastery" />
        <meta name="twitter:description" content="Discover the fundamentals of concurrent processing, its benefits, and how it enhances efficiency in software development. Learn key techniques and best" />
        <meta name="twitter:image" content="https://markhazleton.com/assets/img/ArgostoliGreeceBeach.jpg" />
        <meta name="twitter:image:alt" content="Concurrent Processing - Mark Hazleton" />
        <!-- YouTube video Twitter Card tags-->
        <!-- Additional Twitter Card overrides (for backward compatibility)-->
        <!-- Performance optimization - No external CDN dependencies-->
        <!-- Favicon and app icons-->
        <link rel="shortcut icon" href="/assets/img/favicon.ico" />
        <link rel="icon" type="image/x-icon" href="/assets/img/favicon.ico" />
        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png" />
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png" />
        <link rel="manifest" href="/site.webmanifest" />
        <!-- Modern Layout Styles (includes Bootstrap 5, Bootstrap Icons, Font Awesome, PrismJS)-->
        <link href="/css/modern-styles.css" rel="stylesheet" />
        <!-- Enhanced JSON-LD Structured Data for SEO-->
        <script type="application/ld+json">
            {
                "@context": "https://schema.org",
                "@type": "Person",
                "name": "Mark Hazleton",
                "givenName": "Mark",
                "familyName": "Hazleton",
                "jobTitle": "Solutions Architect",
                "description": "Solutions Architect passionate for solutions which make technology work for business",
                "url": "https://markhazleton.com",
                "image": {
                    "@type": "ImageObject",
                    "url": "https://markhazleton.com/assets/img/MarkHazleton.jpg",
                    "width": 400,
                    "height": 400
                },
                "sameAs": ["https://www.linkedin.com/in/markhazleton/", "https://github.com/markhazleton/", "https://twitter.com/markhazleton/", "https://www.youtube.com/@MarkHazleton"],
                "knowsAbout": [".NET Framework", "ASP.NET Core", "Microsoft Azure", "Project Management", "Web Development", "Solution Architecture", "Software Engineering", "Cloud Computing", "Artificial Intelligence", "Machine Learning"],
                "alumniOf": {
                    "@type": "Organization",
                    "name": "University of North Texas"
                },
                "address": {
                    "@type": "PostalAddress",
                    "addressLocality": "Wichita",
                    "addressRegion": "KS",
                    "addressCountry": "US"
                },
                "mainEntityOfPage": {
                    "@type": "WebPage",
                    "@id": "https://markhazleton.com/"
                }
            }
        </script>
        <!-- Additional structured data for specific pages-->
        <!-- Additional page-specific CSS-->
        <!-- Include LinkedIn sharing mixins-->
        <!-- Global site tag (gtag.js) - Google Analytics-->
        <script src="https://www.googletagmanager.com/gtag/js?id=G-L8GVZNDH0B" async></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag() {
                dataLayer.push(arguments);
            }
            gtag('js', new Date());
            gtag('config', 'G-L8GVZNDH0B');
        </script>
    </head>
    <body>
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top" role="navigation" aria-label="Main navigation">
            <div class="container-fluid">
                <a class="navbar-brand" href="/#" aria-label="Mark Hazleton homepage">Mark Hazleton</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav me-auto">
                        <li class="nav-item"><a class="nav-link active" href="/#about" aria-current="page">About Mark</a></li>
                        <li class="nav-item"><a class="nav-link" href="/#projects">Projects</a></li>
                        <li class="nav-item"><a class="nav-link" href="/articles.html">Articles</a></li>
                        <li class="nav-item"><a class="nav-link" href="/#contact">Contact</a></li>
                    </ul>
                    <!-- Search Box - Inside collapsible navbar-->
                    <form class="d-flex me-3 my-2 my-lg-0" onsubmit="return searchArticles(event)">
                        <div class="input-group search-box">
                            <input class="form-control" id="headerSearchInput" type="search" placeholder="Search articles..." aria-label="Search articles" autocomplete="off" />
                            <button class="btn btn-outline-light" type="submit" aria-label="Search"><i class="fas fa-search"></i></button>
                        </div>
                    </form>
                    <!-- Social Icons - Inside collapsible navbar-->
                    <div class="d-flex social-icons">
                        <a href="https://www.linkedin.com/in/markhazleton/" target="_blank" rel="noopener noreferrer" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                        <a href="https://github.com/markhazleton/" target="_blank" rel="noopener noreferrer" title="GitHub"><i class="fab fa-github"></i></a>
                        <a href="https://www.youtube.com/@MarkHazleton" target="_blank" rel="noopener noreferrer" title="YouTube"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
            </div>
        </nav>
        <br />
        <div class="container mt-4">
            <nav class="breadcrumb-modern" aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a class="text-decoration-none" href="/">Home</a></li>
                    <li class="breadcrumb-item"><a class="text-decoration-none" href="/articles.html">Articles</a></li>
                    <li class="breadcrumb-item active" aria-current="page">Concurrent Processing</li>
                </ol>
            </nav>
        </div>
        <article class="py-5" id="main-article">
            <div class="container">
                <div class="row">
                    <div class="col-lg-8 mx-auto">
                        <header class="mb-5">
                            <div class="alert alert-info text-center mb-4">
                                <i class="bi bi-github me-2"></i>
                                <a class="text-decoration-none fw-bold" href="https://github.com/markhazleton/concurrentprocessing/" target="_blank" rel="noopener">
                                    View the complete source code on GitHub
                                    <i class="bi bi-box-arrow-up-ne ms-1"></i>
                                </a>
                            </div>
                            <h1 class="display-4 fw-bold" id="top">Concurrent Processing in C#</h1>
                            <div class="subheading h4 text-muted mb-4">Learning Concurrent Processing Through Code</div>
                            <div class="article-meta text-muted mb-4">
                                <time datetime="2023-08-17">August 16, 2023</time>
                                <span class="mx-2">•</span>
                                <span>by Mark Hazleton</span>
                                <span class="mx-2">•</span>
                                <span>5 min read</span>
                            </div>
                            <!-- LinkedIn sharing for the article-->
                        </header>
                        <div class="article-content">
                            <p class="lead">As a developer, one of the most exciting aspects of programming is the opportunity to learn new concepts and techniques. Recently, I embarked on a journey to understand concurrent processing better, and I'm excited to share my experience with you.</p>
                            <p class="mb-4">The idea of managing multiple tasks simultaneously has always fascinated me. However, it can be a complex challenge, requiring synchronization and careful management to avoid issues like race conditions and deadlocks. To dive into this topic, I decided to develop a C# console application that would allow me to experiment and learn practically.</p>
                            <section class="mb-5">
                                <h2 class="h3 mb-4">
                                    <i class="bi bi-list-check me-2 text-primary"></i>
                                    Considerations for Concurrent Processing
                                </h2>
                                <div class="accordion" id="considerationsAccordion">
                                    <div class="accordion-item">
                                        <h3 class="accordion-header" id="headingAutonomy">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseAutonomy" aria-expanded="false" aria-controls="collapseAutonomy">
                                                <i class="bi bi-gear me-2 text-success"></i>
                                                Task Autonomy and Independence
                                            </button>
                                        </h3>
                                        <div class="accordion-collapse collapse" id="collapseAutonomy" aria-labelledby="headingAutonomy" data-bs-parent="#considerationsAccordion">
                                            <div class="accordion-body"><p>For multiple tasks to effectively run concurrently, each task must encapsulate an autonomous and self-contained unit of functionality. Autonomy ensures that a task operates independently, free from unnecessary dependencies on other tasks or shared resources.</p></div>
                                        </div>
                                    </div>
                                    <div class="accordion-item">
                                        <h3 class="accordion-header" id="headingSynchronization">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseSynchronization" aria-expanded="false" aria-controls="collapseSynchronization">
                                                <i class="bi bi-arrow-repeat me-2 text-primary"></i>
                                                Synchronization
                                            </button>
                                        </h3>
                                        <div class="accordion-collapse collapse" id="collapseSynchronization" aria-labelledby="headingSynchronization" data-bs-parent="#considerationsAccordion">
                                            <div class="accordion-body"><p>Ensuring proper synchronization is crucial to prevent race conditions and ensure data consistency among multiple threads or tasks. Techniques like locks, semaphores, and monitors can be used to control access to shared resources.</p></div>
                                        </div>
                                    </div>
                                    <div class="accordion-item">
                                        <h3 class="accordion-header" id="headingScalability">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseScalability" aria-expanded="false" aria-controls="collapseScalability">
                                                <i class="bi bi-bar-chart me-2 text-info"></i>
                                                Scalability
                                            </button>
                                        </h3>
                                        <div class="accordion-collapse collapse" id="collapseScalability" aria-labelledby="headingScalability" data-bs-parent="#considerationsAccordion">
                                            <div class="accordion-body"><p>Consider the scalability of your concurrent processing solution. Will it perform well as the number of concurrent tasks or threads increases? Design your system to handle increased load without degrading performance.</p></div>
                                        </div>
                                    </div>
                                    <div class="accordion-item">
                                        <h3 class="accordion-header" id="headingDeadlocks">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseDeadlocks" aria-expanded="false" aria-controls="collapseDeadlocks">
                                                <i class="bi bi-exclamation-triangle me-2 text-warning"></i>
                                                Deadlocks and Livelocks
                                            </button>
                                        </h3>
                                        <div class="accordion-collapse collapse" id="collapseDeadlocks" aria-labelledby="headingDeadlocks" data-bs-parent="#considerationsAccordion">
                                            <div class="accordion-body"><p>Be aware of potential deadlocks and livelocks that can occur when multiple threads are waiting for resources that are held by other threads. Avoid circular dependencies and ensure proper resource allocation/release.</p></div>
                                        </div>
                                    </div>
                                    <div class="accordion-item">
                                        <h3 class="accordion-header" id="headingResourceManagement">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseResourceManagement" aria-expanded="false" aria-controls="collapseResourceManagement">
                                                <i class="bi bi-memory me-2 text-secondary"></i>
                                                Resource Management
                                            </button>
                                        </h3>
                                        <div class="accordion-collapse collapse" id="collapseResourceManagement" aria-labelledby="headingResourceManagement" data-bs-parent="#considerationsAccordion">
                                            <div class="accordion-body"><p>Properly manage resources such as memory, file handles, and network connections. Failing to release resources can lead to resource exhaustion and degrade system performance.</p></div>
                                        </div>
                                    </div>
                                    <div class="accordion-item">
                                        <h3 class="accordion-header" id="headingThreadSafety">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThreadSafety" aria-expanded="false" aria-controls="collapseThreadSafety">
                                                <i class="bi bi-shield-check me-2 text-success"></i>
                                                Thread Safety
                                            </button>
                                        </h3>
                                        <div class="accordion-collapse collapse" id="collapseThreadSafety" aria-labelledby="headingThreadSafety" data-bs-parent="#considerationsAccordion">
                                            <div class="accordion-body"><p>Ensure that your code is thread-safe. Thread safety means that the behavior of a program remains consistent when multiple threads are executing simultaneously. Use techniques like immutable data, synchronization, and thread-local storage.</p></div>
                                        </div>
                                    </div>
                                    <div class="accordion-item">
                                        <h3 class="accordion-header" id="headingLoadBalancing">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseLoadBalancing" aria-expanded="false" aria-controls="collapseLoadBalancing">
                                                <i class="bi bi-diagram-3 me-2 text-primary"></i>
                                                Load Balancing
                                            </button>
                                        </h3>
                                        <div class="accordion-collapse collapse" id="collapseLoadBalancing" aria-labelledby="headingLoadBalancing" data-bs-parent="#considerationsAccordion">
                                            <div class="accordion-body"><p>Distribute tasks evenly among threads or processing units to ensure efficient utilization of resources. Load balancing helps prevent scenarios where some threads are idle while others are overloaded.</p></div>
                                        </div>
                                    </div>
                                    <div class="accordion-item">
                                        <h3 class="accordion-header" id="headingTaskGranularity">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTaskGranularity" aria-expanded="false" aria-controls="collapseTaskGranularity">
                                                <i class="bi bi-puzzle me-2 text-info"></i>
                                                Task Granularity
                                            </button>
                                        </h3>
                                        <div class="accordion-collapse collapse" id="collapseTaskGranularity" aria-labelledby="headingTaskGranularity" data-bs-parent="#considerationsAccordion">
                                            <div class="accordion-body"><p>Determine the appropriate level of task granularity. Too fine-grained tasks can lead to overhead due to thread management, while too coarse-grained tasks might not fully utilize available resources.</p></div>
                                        </div>
                                    </div>
                                    <div class="accordion-item">
                                        <h3 class="accordion-header" id="headingErrorHandling">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseErrorHandling" aria-expanded="false" aria-controls="collapseErrorHandling">
                                                <i class="bi bi-bug me-2 text-danger"></i>
                                                Error Handling
                                            </button>
                                        </h3>
                                        <div class="accordion-collapse collapse" id="collapseErrorHandling" aria-labelledby="headingErrorHandling" data-bs-parent="#considerationsAccordion">
                                            <div class="accordion-body"><p>Implement robust error-handling mechanisms for concurrent tasks. Unhandled exceptions in one task should not crash the entire application.</p></div>
                                        </div>
                                    </div>
                                    <div class="accordion-item">
                                        <h3 class="accordion-header" id="headingTesting">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTesting" aria-expanded="false" aria-controls="collapseTesting">
                                                <i class="bi bi-search me-2 text-secondary"></i>
                                                Testing and Debugging
                                            </button>
                                        </h3>
                                        <div class="accordion-collapse collapse" id="collapseTesting" aria-labelledby="headingTesting" data-bs-parent="#considerationsAccordion">
                                            <div class="accordion-body"><p>Testing concurrent code is challenging. Consider using techniques like stress testing and race condition detection tools to identify issues. Debugging concurrent issues can be complex.</p></div>
                                        </div>
                                    </div>
                                    <div class="accordion-item">
                                        <h3 class="accordion-header" id="headingCommunication">
                                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseCommunication" aria-expanded="false" aria-controls="collapseCommunication">
                                                <i class="bi bi-chat-dots me-2 text-primary"></i>
                                                Communication and Coordination
                                            </button>
                                        </h3>
                                        <div class="accordion-collapse collapse" id="collapseCommunication" aria-labelledby="headingCommunication" data-bs-parent="#considerationsAccordion">
                                            <div class="accordion-body"><p>Threads or tasks might need to communicate and coordinate with each other. Consider using mechanisms like message queues, shared memory, and events to facilitate inter-thread communication.</p></div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                            <section class="mb-5">
                                <h2 class="h3 mb-4">
                                    <i class="bi bi-exclamation-circle me-2 text-warning"></i>
                                    Potential Drawbacks in Concurrent Programming
                                </h2>
                                <div class="alert alert-warning mb-4">
                                    <h5 class="alert-heading">
                                        <i class="bi bi-info-circle me-2"></i>
                                        Challenges to Consider
                                    </h5>
                                    <p class="mb-2">While concurrent programming boosts performance and resource utilization, it comes with challenges:</p>
                                    <ul class="mb-0">
                                        <li>Risk of Deadlocks and Livelocks</li>
                                        <li>Difficulty in Debugging and Testing</li>
                                        <li>Potential for Race Conditions</li>
                                        <li>Increased Memory Consumption</li>
                                        <li>Complexity in Code Management and Maintenance</li>
                                    </ul>
                                </div>
                                <p class="mb-4">By understanding these challenges, developers can employ strategies to mitigate risks and harness the benefits of concurrency in their projects.</p>
                            </section>
                            <section class="mb-5">
                                <h2 class="h3 mb-4">
                                    <i class="bi bi-code-slash me-2 text-primary"></i>
                                    Building the Concurrent Processing Demo
                                </h2>
                                <p class="mb-4">
                                    Since this was a one-off project, I didn't want to spend too much time on the user interface. I created a repository to create a simple console application that would allow me to focus on the core functionality.
                                    <a class="text-decoration-none" href="https://github.com/markhazleton/ConcurrentProcessing" target="_blank" rel="noopener">
                                        View the Concurrent Processing C# Project on GitHub
                                        <i class="bi bi-box-arrow-up-ne ms-1"></i>
                                    </a>
                                </p>
                                <p class="mb-4">I started with a ChatGPT prompt that introduced me to the basics of concurrent processing. Armed with this initial guidance, I started writing the code. Before long I had the basic scaffolding in place, and I was ready to start iterating and learning.</p>
                                <p class="mb-3">
                                    Check out the
                                    <a class="text-decoration-none" href="#SemaphoreSlimClass">SemaphoreSlim Class section</a>
                                    for more details.
                                </p>
                                <div class="card shadow-sm mb-4">
                                    <div class="card-header bg-primary text-white">
                                        <h5 class="mb-0">
                                            <i class="bi bi-code-slash me-2"></i>
                                            Core Concurrent Processing Logic
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <pre class="language-csharp mb-0"><code class="language-csharp"><span class="token keyword">const</span> <span class="token class-name"><span class="token keyword">int</span></span> maxConcurrency <span class="token operator">=</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token comment">// Maximum concurrent tasks allowed</span>
<span class="token class-name">SemaphoreSlim</span> semaphore <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">(</span>maxConcurrency<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">List<span class="token punctuation">&lt;</span>Task<span class="token punctuation">></span></span> tasks <span class="token operator">=</span> <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name"><span class="token keyword">int</span><span class="token punctuation">?</span></span> taskId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span>taskId <span class="token keyword">is</span> <span class="token keyword">not</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token class-name">Task</span> task <span class="token operator">=</span> <span class="token function">ProcessAsync</span><span class="token punctuation">(</span>taskId<span class="token punctuation">.</span>Value<span class="token punctuation">,</span> tasks<span class="token punctuation">.</span>Count<span class="token punctuation">,</span> <span class="token keyword">await</span> <span class="token function">AwaitSemaphoreAsync</span><span class="token punctuation">(</span>semaphore<span class="token punctuation">)</span><span class="token punctuation">,</span> semaphore<span class="token punctuation">)</span><span class="token punctuation">;</span>
  tasks<span class="token punctuation">.</span><span class="token function">Add</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span><span class="token punctuation">;</span>
  taskId <span class="token operator">=</span> <span class="token function">GetNextTaskId</span><span class="token punctuation">(</span>taskId<span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span>tasks<span class="token punctuation">.</span>Count <span class="token operator">>=</span> maxConcurrency<span class="token punctuation">)</span>
  <span class="token punctuation">{</span>
    <span class="token class-name">Task</span> finishedTask <span class="token operator">=</span> <span class="token keyword">await</span> Task<span class="token punctuation">.</span><span class="token function">WhenAny</span><span class="token punctuation">(</span>tasks<span class="token punctuation">)</span><span class="token punctuation">;</span>
    tasks<span class="token punctuation">.</span><span class="token function">Remove</span><span class="token punctuation">(</span>finishedTask<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">await</span> Task<span class="token punctuation">.</span><span class="token function">WhenAll</span><span class="token punctuation">(</span>tasks<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
                                    </div>
                                </div>
                                <!-- Inline LinkedIn sharing prompt-->
                                <!-- Check if first parameter is an article object-->
                                <!-- Legacy parameter format (url, title, summary)-->
                                <div class="linkedin-sharing-prompt border border-primary rounded p-3 my-4 bg-light">
                                    <div class="row align-items-center">
                                        <div class="col-md-8">
                                            <div class="d-flex align-items-center">
                                                <i class="fab fa-linkedin-in text-primary fs-3 me-3"></i>
                                                <div>
                                                    <div class="fw-bold text-primary">Found this helpful?</div>
                                                    <div class="text-muted small">Share it with your LinkedIn network</div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4 text-md-end mt-2 mt-md-0">
                                            <a class="btn btn-primary btn-sm" href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fmarkhazleton.com%2Fconcurrent-processing.html&amp;title=Mastering%20Concurrent%20Processing%20%20&amp;summary=Discover%20the%20fundamentals%20of%20concurrent%20processing%2C%20its%20benefits%2C%20and%20how%20it%20enhances%20efficiency%20in%20software%20development.%20Learn%20key%20techniques%20and%20best&amp;source=Mark%20Hazleton" target="_blank" rel="noopener noreferrer" title="Share on LinkedIn" onclick="return openLinkedInShare(this.href);">
                                                <i class="fab fa-linkedin-in me-2"></i>
                                                Share Article
                                            </a>
                                        </div>
                                    </div>
                                </div>
                                <p class="mb-4">I created a function to wait for a semaphore to be released and added some telemetry to track the time spent waiting.</p>
                                <div class="card shadow-sm mb-4">
                                    <div class="card-header bg-secondary text-white">
                                        <h5 class="mb-0">
                                            <i class="bi bi-stopwatch me-2"></i>
                                            Semaphore Wait Function
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <pre class="language-csharp mb-0"><code class="language-csharp"><span class="token comment">//  Wait for semaphore to be released so that next task can start</span>
<span class="token keyword">static</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task<span class="token punctuation">&lt;</span><span class="token keyword">long</span><span class="token punctuation">></span></span> <span class="token function">AwaitSemaphoreAsync</span><span class="token punctuation">(</span><span class="token class-name">SemaphoreSlim</span> semaphore<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token class-name">Stopwatch</span> stopwatch <span class="token operator">=</span> Stopwatch<span class="token punctuation">.</span><span class="token function">StartNew</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">await</span> semaphore<span class="token punctuation">.</span><span class="token function">WaitAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  stopwatch<span class="token punctuation">.</span><span class="token function">Stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> stopwatch<span class="token punctuation">.</span>ElapsedTicks<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
                                    </div>
                                </div>
                                <p class="mb-4">
                                    I created a mock async processing method that simulates work by delaying for a random amount of time. I also added telemetry data so that I could track the task ID, task count, semaphore count, and wait time. I used the
                                    <code>Task.Delay</code>
                                    method to simulate work, but in a real-world application, this would be replaced with actual work.
                                </p>
                                <div class="card shadow-sm mb-4">
                                    <div class="card-header bg-success text-white">
                                        <h5 class="mb-0">
                                            <i class="bi bi-play-circle me-2"></i>
                                            Mock Processing Task
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <pre class="language-csharp mb-0"><code class="language-csharp"><span class="token comment">// Mock Async Task to simulate work</span>
<span class="token keyword">static</span> <span class="token keyword">async</span> <span class="token return-type class-name">Task</span> <span class="token function">ProcessAsync</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> taskId<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">int</span></span> taskCount<span class="token punctuation">,</span> <span class="token class-name"><span class="token keyword">long</span></span> waitTicks<span class="token punctuation">,</span> <span class="token class-name">SemaphoreSlim</span> semaphore<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">try</span>
  <span class="token punctuation">{</span>
    <span class="token keyword">await</span> Task<span class="token punctuation">.</span><span class="token function">Delay</span><span class="token punctuation">(</span>TimeSpan<span class="token punctuation">.</span><span class="token function">FromMilliseconds</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token constructor-invocation class-name">Random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">Next</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    Console<span class="token punctuation">.</span><span class="token function">WriteLine</span><span class="token punctuation">(</span><span class="token interpolation-string"><span class="token string">$"Task:</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">taskId</span><span class="token format-string"><span class="token punctuation">:</span>D3</span><span class="token punctuation">}</span></span><span class="token string"> T:</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">taskCount</span><span class="token punctuation">}</span></span><span class="token string"> S:</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">semaphore<span class="token punctuation">.</span>CurrentCount</span><span class="token punctuation">}</span></span><span class="token string"> W:</span><span class="token interpolation"><span class="token punctuation">{</span><span class="token expression language-csharp">waitTicks</span><span class="token punctuation">}</span></span><span class="token string">"</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">finally</span>
  <span class="token punctuation">{</span>
    semaphore<span class="token punctuation">.</span><span class="token function">Release</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
                                    </div>
                                </div>
                                <p class="mb-4">Finally, I created a function to generate the next task ID. This is how I controlled the number of tasks that were created.</p>
                                <div class="card shadow-sm mb-4">
                                    <div class="card-header bg-info text-white">
                                        <h5 class="mb-0">
                                            <i class="bi bi-arrow-right-circle me-2"></i>
                                            Task ID Generator
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <pre class="language-csharp mb-0"><code class="language-csharp"><span class="token comment">// Get Next Task ID</span>
<span class="token keyword">static</span> <span class="token return-type class-name"><span class="token keyword">int</span><span class="token punctuation">?</span></span> <span class="token function">GetNextTaskId</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span><span class="token punctuation">?</span></span> taskId<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>taskId <span class="token operator">&lt;</span> <span class="token number">1000</span><span class="token punctuation">)</span> <span class="token keyword">return</span> taskId <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">else</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
                                    </div>
                                </div>
                            </section>
                            <section class="mb-5">
                                <h2 class="h3 mb-4">
                                    <i class="bi bi-arrow-repeat me-2 text-primary"></i>
                                    Iterating and Learning
                                </h2>
                                <p class="mb-4">As I dove into the code, I realized that understanding concurrent processing goes beyond just knowing how to create threads or tasks. I needed to comprehend the concept of synchronization and how to manage the number of concurrently executing tasks. The code I had started with was a great foundation, but it required iteration and refinement to achieve my goals.</p>
                                <p class="mb-4">
                                    The heart of the application was the use of the
                                    <strong>SemaphoreSlim</strong>
                                    class, which acted as a gatekeeper to control the number of tasks running concurrently. This was a crucial lesson in managing shared resources and preventing resource exhaustion.
                                </p>
                            </section>
                            <section class="mb-5">
                                <h2 class="h3 mb-4">
                                    <i class="bi bi-eye me-2 text-primary"></i>
                                    Experimenting and Observing
                                </h2>
                                <p class="mb-4">With each iteration of the code, I ran the application and observed its behavior. The output of the program provided valuable insights into how tasks were being managed, the time each task spent waiting for a semaphore, and the overall concurrency control.</p>
                                <div class="card shadow-sm mb-4">
                                    <div class="card-header bg-dark text-white">
                                        <h5 class="mb-0">
                                            <i class="bi bi-terminal me-2"></i>
                                            Sample Output
                                        </h5>
                                    </div>
                                    <div class="card-body">
                                        <pre class="language-json mb-0"><code class="language-json">...
Task<span class="token operator">:</span><span class="token number">061</span> T<span class="token operator">:</span><span class="token number">61</span> S<span class="token operator">:</span><span class="token number">2</span> W<span class="token operator">:</span><span class="token number">2</span>
Task<span class="token operator">:</span><span class="token number">070</span> T<span class="token operator">:</span><span class="token number">70</span> S<span class="token operator">:</span><span class="token number">0</span> W<span class="token operator">:</span><span class="token number">4</span>
Task<span class="token operator">:</span><span class="token number">037</span> T<span class="token operator">:</span><span class="token number">37</span> S<span class="token operator">:</span><span class="token number">0</span> W<span class="token operator">:</span><span class="token number">2</span>
Task<span class="token operator">:</span><span class="token number">018</span> T<span class="token operator">:</span><span class="token number">18</span> S<span class="token operator">:</span><span class="token number">3</span> W<span class="token operator">:</span><span class="token number">2</span>
Task<span class="token operator">:</span><span class="token number">023</span> T<span class="token operator">:</span><span class="token number">23</span> S<span class="token operator">:</span><span class="token number">1</span> W<span class="token operator">:</span><span class="token number">2</span>
Task<span class="token operator">:</span><span class="token number">026</span> T<span class="token operator">:</span><span class="token number">26</span> S<span class="token operator">:</span><span class="token number">2</span> W<span class="token operator">:</span><span class="token number">3</span>
...
</code></pre>
                                    </div>
                                </div>
                                <p class="mb-4">The output highlighted the dynamic nature of concurrent processing, where tasks were processed and released in a controlled manner, ensuring that the maximum concurrency was maintained while avoiding resource contention.</p>
                            </section>
                            <section class="mb-5">
                                <h2 class="h3 mb-4">
                                    <i class="bi bi-trophy me-2 text-success"></i>
                                    Celebrating Success
                                </h2>
                                <p class="mb-4">After several iterations, moments of frustration, and numerous debug sessions, I finally achieved my desired result. The application was now a well-functioning demonstration of concurrent processing, showcasing my newfound understanding of synchronization and resource management.</p>
                                <p class="mb-4">The journey was not just about the code; it was about the learning process itself. Developing this console application was a great learning tool that allowed me to grasp the intricacies of concurrent processing hands-on. It transformed abstract concepts into tangible knowledge.</p>
                            </section>
                            <section class="mb-5">
                                <h2 class="h3 mb-4">
                                    <i class="bi bi-check-circle me-2 text-success"></i>
                                    Conclusion
                                </h2>
                                <div class="card bg-light border-0">
                                    <div class="card-body">
                                        <p class="mb-3">The world of concurrent processing is complex and fascinating. Through the development of this C# console application, I gained valuable insights into managing multiple tasks simultaneously while avoiding common pitfalls. The iterative process of refining the code helped me internalize the concepts and apply them effectively.</p>
                                        <p class="mb-3">I encourage fellow developers to try learning through practical coding. It's one thing to read about a topic, but a whole different experience to see it in action and work through challenges firsthand.</p>
                                        <p class="mb-0"><strong>Happy coding and exploring the world of concurrency!</strong></p>
                                    </div>
                                </div>
                            </section>
                            <section class="mb-5">
                                <div class="alert alert-info border-0 shadow-sm">
                                    <div class="row align-items-center">
                                        <div class="col-md-2 text-center"><i class="bi bi-arrow-right-circle display-4 text-primary"></i></div>
                                        <div class="col-md-10">
                                            <h4 class="alert-heading mb-3">
                                                <i class="bi bi-lightbulb me-2"></i>
                                                Ready for the Next Level?
                                            </h4>
                                            <p class="mb-3">Now that you've explored the fundamentals of concurrent processing with SemaphoreSlim, you're ready to tackle more advanced scenarios. Learn how to manage concurrent lists of tasks with different return types, robust error handling, and comprehensive telemetry.</p>
                                            <p class="mb-0">
                                                <a class="btn btn-primary btn-lg" href="/task-list-processor.html">
                                                    <i class="bi bi-list-task me-2"></i>
                                                    Explore TaskListProcessor: Advanced Concurrent Operations
                                                    <i class="bi bi-arrow-right ms-2"></i>
                                                </a>
                                            </p>
                                        </div>
                                    </div>
                                </div>
                            </section>
                            <section class="mb-5" id="SemaphoreSlimClass">
                                <div class="card shadow-sm">
                                    <div class="card-header bg-primary text-white">
                                        <h3 class="card-title mb-0">
                                            <i class="bi bi-shield-check me-2"></i>
                                            The SemaphoreSlim Class
                                        </h3>
                                        <div class="text-end">
                                            <a class="text-white text-decoration-none" href="#top">
                                                <i class="bi bi-arrow-up me-1"></i>
                                                Back to Top
                                            </a>
                                        </div>
                                    </div>
                                    <div class="card-body">
                                        <p class="mb-3">
                                            The
                                            <strong>SemaphoreSlim</strong>
                                            class in .NET presents a robust solution for fine-tuning resource utilization. This lightweight semaphore is designed for scenarios where wait times are expected to be short, making it ideal for controlling the number of tasks executing in parallel within a single process.
                                        </p>
                                        <p class="mb-3">
                                            The
                                            <strong>SemaphoreSlim</strong>
                                            class offers a simple, yet effective way to limit the number of threads that can access a specific resource or a pool of resources concurrently. This is particularly useful in scenarios where you need to throttle the usage of resources like network bandwidth or CPU time, preventing the system from being overwhelmed.
                                        </p>
                                        <p class="mb-3">
                                            When integrating
                                            <strong>SemaphoreSlim</strong>
                                            into the Task List Processor, it allows precise control over the number of tasks running simultaneously. By setting the maximum concurrent tasks, we ensure efficient execution without overloading the system, especially crucial in high-load situations.
                                        </p>
                                        <p class="mb-4">
                                            For more detailed information on
                                            <strong>SemaphoreSlim</strong>
                                            , its usage, and examples, visit the
                                            <a class="text-decoration-none" href="https://learn.microsoft.com/en-us/dotnet/api/system.threading.semaphoreslim" target="_blank" rel="noopener">
                                                Microsoft Documentation on SemaphoreSlim
                                                <i class="bi bi-box-arrow-up-ne ms-1"></i>
                                            </a>
                                            .
                                        </p>
                                        <h4 class="mb-3">
                                            <i class="bi bi-diagram-2 me-2 text-primary"></i>
                                            Semaphore vs SemaphoreSlim in .NET
                                        </h4>
                                        <p class="mb-4">Choose Semaphore when you need inter-process synchronization or when dealing with named semaphores for system-wide visibility. Opt for SemaphoreSlim for more lightweight, intra-process synchronization where performance and efficiency are key considerations.</p>
                                        <div class="row g-4">
                                            <div class="col-md-6">
                                                <div class="card h-100 border-warning">
                                                    <div class="card-header bg-warning text-dark">
                                                        <h5 class="mb-0">
                                                            <i class="bi bi-cpu me-2"></i>
                                                            Semaphore
                                                        </h5>
                                                    </div>
                                                    <div class="card-body">
                                                        <dl class="mb-0">
                                                            <dt>Nature</dt>
                                                            <dd>A wrapper around the Win32 semaphore object, suitable for local or system-wide named semaphores.</dd>
                                                            <dt>Usage</dt>
                                                            <dd>Ideal for thread synchronization across multiple processes or for inter-process communication.</dd>
                                                            <dt>Performance</dt>
                                                            <dd>Slower and more resource-intensive, relying on the system's kernel mode.</dd>
                                                            <dt>Functionality</dt>
                                                            <dd>Supports system-wide visibility and waiting on multiple semaphores.</dd>
                                                            <dt>Example</dt>
                                                            <dd>Synchronizing resource access across different applications on the same system.</dd>
                                                            <dt class="text-success">Pros</dt>
                                                            <dd>Visibility across processes, suitable for complex synchronization.</dd>
                                                            <dt class="text-danger">Cons</dt>
                                                            <dd>Heavier, slower, and suitable for long wait times. Involves kernel transitions.</dd>
                                                        </dl>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="card h-100 border-success">
                                                    <div class="card-header bg-success text-white">
                                                        <h5 class="mb-0">
                                                            <i class="bi bi-lightning me-2"></i>
                                                            SemaphoreSlim
                                                        </h5>
                                                    </div>
                                                    <div class="card-body">
                                                        <dl class="mb-0">
                                                            <dt>Nature</dt>
                                                            <dd>Lightweight and fast, designed for use within a single process.</dd>
                                                            <dt>Usage</dt>
                                                            <dd>Best for short wait times and scenarios confined to a single process.</dd>
                                                            <dt>Performance</dt>
                                                            <dd>More efficient in memory and speed, using CLR synchronization primitives.</dd>
                                                            <dt>Functionality</dt>
                                                            <dd>Does not support named semaphores or system-wide visibility.</dd>
                                                            <dt>Example</dt>
                                                            <dd>Limiting concurrent calls to an external service in a web server application.</dd>
                                                            <dt class="text-success">Pros</dt>
                                                            <dd>Faster, more memory-efficient, suited for fine-grained control within an app.</dd>
                                                            <dt class="text-danger">Cons</dt>
                                                            <dd>Not suitable for inter-process communication, lacks system-wide visibility.</dd>
                                                        </dl>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>
                        </div>
                    </div>
                </div>
            </div>
        </article>
        <!-- Auto-include floating LinkedIn share for article pages-->
        <!-- Check if first parameter is an article object-->
        <div class="floating-linkedin-share position-fixed" style="bottom: 20px; right: 20px; z-index: 1000">
            <a class="btn btn-linkedin btn-lg rounded-circle shadow" href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fmarkhazleton.com%2Fconcurrent-processing.html&amp;title=Mastering%20Concurrent%20Processing&amp;summary=Explore%20the%20fundamentals%20of%20concurrent%20processing%2C%20its%20benefits%2C%20and%20how%20it%20can%20enhance%20efficiency%20in%20software%20development.&amp;source=Mark%20Hazleton" target="_blank" rel="noopener noreferrer" title="Share on LinkedIn" onclick="return openLinkedInShare(this.href);"><i class="fab fa-linkedin-in"></i></a>
        </div>
        <!-- Footer-->
        <footer>
            <div class="container">
                <div class="row">
                    <div class="col-md-6 mb-4">
                        <h5 class="mb-3">Mark Hazleton</h5>
                        <p class="text-light">Solutions Architect passionate for solutions which make technology work for business. Lifelong learner, not sidetracked by sizzle.</p>
                        <div class="social-icons">
                            <a href="https://www.linkedin.com/in/markhazleton/" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
                            <a href="https://github.com/markhazleton/" target="_blank" rel="noopener noreferrer" aria-label="GitHub"><i class="fab fa-github"></i></a>
                            <a href="https://www.youtube.com/@MarkHazleton" target="_blank" rel="noopener noreferrer" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
                        </div>
                    </div>
                    <div class="col-md-3 mb-4">
                        <h6 class="mb-3">Quick Links</h6>
                        <ul class="list-unstyled footer-links">
                            <li><a href="/#about">About</a></li>
                            <li><a href="/#experience">Experience</a></li>
                            <li><a href="/#projects">Projects</a></li>
                            <li><a href="/articles.html">Articles</a></li>
                            <li><a href="/#contact">Contact</a></li>
                        </ul>
                    </div>
                    <div class="col-md-3 mb-4">
                        <h6 class="mb-3">Resources</h6>
                        <ul class="list-unstyled footer-links">
                            <li><a href="/projectmechanics/">Project Mechanics</a></li>
                            <li><a href="https://webspark.markhazleton.com">WebSpark</a></li>
                            <li><a href="/rss.xml">RSS Feed</a></li>
                            <li><a href="/sitemap.xml">Sitemap</a></li>
                        </ul>
                    </div>
                </div>
                <hr class="my-4" />
                <div class="row">
                    <div class="col-12 text-center"><p class="mb-0">&copy; 2025 Mark Hazleton. All rights reserved.</p></div>
                </div>
            </div>
        </footer>
        <script src="/js/scripts.js"></script>
    </body>
</html>
